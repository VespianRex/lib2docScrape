{"content": {"suites": {"0": {"status": {"total_pass": 4, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 2, "total_error": 0}, "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_crawler_backend_lifecycle", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_crawler_backend_error_handling", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_backend_selector_registration", "rerun": "0"}, "3": {"status": "FAIL", "message": "   assert None == <tests.test_base.MockCrawlerBackend object at 0x7f216a54b950>\n", "test_name": "test_backend_selector_selection", "rerun": "0"}, "4": {"status": "FAIL", "message": "   assert None == <tests.test_base.MockCrawlerBackend object at 0x7f216a5d57c0>\n", "test_name": "test_backend_selector_advanced_selection", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_mock_crawler_backend_edge_cases", "rerun": "0"}}, "suite_name": "tests/test_base.py"}, "1": {"suite_name": "tests/test_content_processor.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_extract_text_basic", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_process_basic", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_extract_text_with_nested_content", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_extract_text_with_special_characters", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_extract_text_with_complex_content", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_extract_text_with_mixed_content_types", "rerun": "0"}, "7": {"status": "PASS", "message": "", "test_name": "test_extract_text_with_scripts", "rerun": "0"}, "8": {"status": "PASS", "message": "", "test_name": "test_script_tags_non_json_ld", "rerun": "0"}, "9": {"status": "PASS", "message": "", "test_name": "test_script_tags_with_invalid_json", "rerun": "0"}, "10": {"status": "PASS", "message": "", "test_name": "test_script_tags_with_different_types", "rerun": "0"}, "11": {"status": "PASS", "message": "", "test_name": "test_scripts_with_data_attributes", "rerun": "0"}, "12": {"status": "PASS", "message": "", "test_name": "test_extract_code_blocks[javascript-console.log(\"Hello, World!\");-```javascript\\nconsole.log(\"Hello, World!\");\\n```]", "rerun": "0"}, "13": {"status": "PASS", "message": "", "test_name": "test_extract_code_blocks[python-print(\"Hello, World!\")-```python\\nprint(\"Hello, World!\")\\n```]", "rerun": "0"}, "14": {"status": "PASS", "message": "", "test_name": "test_extract_code_blocks[ruby-puts \"Hello, Ruby!\"-```ruby\\nputs \"Hello, Ruby!\"\\n```]", "rerun": "0"}, "15": {"status": "PASS", "message": "", "test_name": "test_extract_code_blocks[None-Inline code-`Inline code`]", "rerun": "0"}, "16": {"status": "PASS", "message": "", "test_name": "test_extract_code_blocks_with_attributes", "rerun": "0"}, "17": {"status": "PASS", "message": "", "test_name": "test_extract_code_blocks_with_nested_content", "rerun": "0"}, "18": {"status": "PASS", "message": "", "test_name": "test_code_blocks_with_disallowed_languages", "rerun": "0"}, "19": {"status": "PASS", "message": "", "test_name": "test_extract_content_structure", "rerun": "0"}, "20": {"status": "PASS", "message": "", "test_name": "test_extract_headings_hierarchy", "rerun": "0"}, "21": {"status": "PASS", "message": "", "test_name": "test_extract_metadata", "rerun": "0"}, "22": {"status": "PASS", "message": "", "test_name": "test_extract_metadata_with_complex_metadata", "rerun": "0"}, "23": {"status": "PASS", "message": "", "test_name": "test_extract_metadata_with_duplicates", "rerun": "0"}, "24": {"status": "PASS", "message": "", "test_name": "test_extract_metadata_with_invalid_html", "rerun": "0"}, "25": {"status": "PASS", "message": "", "test_name": "test_extract_metadata_with_missing_values", "rerun": "0"}, "26": {"status": "PASS", "message": "", "test_name": "test_extract_metadata_with_schema_org_json_ld", "rerun": "0"}, "27": {"status": "PASS", "message": "", "test_name": "test_extract_metadata_with_all_types", "rerun": "0"}, "28": {"status": "PASS", "message": "", "test_name": "test_collect_assets", "rerun": "0"}, "29": {"status": "PASS", "message": "", "test_name": "test_images_with_data_urls", "rerun": "0"}, "30": {"status": "PASS", "message": "", "test_name": "test_extract_assets_with_invalid_urls", "rerun": "0"}, "31": {"status": "PASS", "message": "", "test_name": "test_extract_links_with_invalid_urls", "rerun": "0"}, "32": {"status": "PASS", "message": "", "test_name": "test_extract_links_with_relative_paths", "rerun": "0"}, "33": {"status": "PASS", "message": "", "test_name": "test_links_with_query_parameters", "rerun": "0"}, "34": {"status": "PASS", "message": "", "test_name": "test_links_with_anchors", "rerun": "0"}, "35": {"status": "PASS", "message": "", "test_name": "test_anchor_tags_without_href", "rerun": "0"}, "36": {"status": "PASS", "message": "", "test_name": "test_links_with_various_protocols", "rerun": "0"}, "37": {"status": "PASS", "message": "", "test_name": "test_multiple_links_in_paragraph", "rerun": "0"}, "38": {"status": "PASS", "message": "", "test_name": "test_links_with_no_text", "rerun": "0"}}, "status": {"total_pass": 39, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "2": {"suite_name": "tests/test_content_processor_advanced.py", "tests": {"0": {"status": "FAIL", "message": "           AssertionError: URL 'http://example.com:80' should be valid.\n           assert False\n            +  where False = URLInfo(raw='http://example.com:80', base='None', normalized='http://example.com:80', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_processor_port_handling", "rerun": "0"}}, "status": {"total_pass": 0, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 1, "total_error": 0}}, "3": {"suite_name": "tests/test_content_processor_edge.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_empty_content", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_malformed_html", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_special_characters", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_large_content", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_nested_structures", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_javascript_handling", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_style_handling", "rerun": "0"}, "7": {"status": "PASS", "message": "", "test_name": "test_iframe_handling", "rerun": "0"}, "8": {"status": "PASS", "message": "", "test_name": "test_form_handling", "rerun": "0"}}, "status": {"total_pass": 9, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "4": {"suite_name": "tests/test_crawl4ai.py", "tests": {"0": {"status": "FAIL", "message": "   AssertionError: assert 'https://example.com' == 'https://example.com/'\n     \n     - https://example.com/\n     ?                    -\n     + https://example.com\n", "test_name": "test_crawl_basic", "rerun": "0"}, "1": {"status": "FAIL", "message": "   assert 0.0026505639543756843 >= 0.5\n", "test_name": "test_crawl_with_rate_limit", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_validate_content", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_process_content", "rerun": "0"}, "4": {"status": "FAIL", "message": "   assert None is not None\n", "test_name": "test_backend_selection", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_metrics", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_error_handling", "rerun": "0"}, "7": {"status": "PASS", "message": "", "test_name": "test_concurrent_requests", "rerun": "0"}, "8": {"status": "PASS", "message": "", "test_name": "test_cleanup", "rerun": "0"}, "9": {"status": "PASS", "message": "", "test_name": "test_crawl4ai_config_validation", "rerun": "0"}, "10": {"status": "PASS", "message": "", "test_name": "test_ssl_context_configuration", "rerun": "0"}, "11": {"status": "PASS", "message": "", "test_name": "test_custom_headers_handling", "rerun": "0"}, "12": {"status": "FAIL", "message": "   assert 0 == 403\n    +  where 0 = CrawlResult(url='https://other-domain.com/page', content={}, metadata={}, status=0, error=\"Invalid URL: Internal TypeE...e() got an unexpected keyword argument 'current_url_info'\", timestamp=datetime.datetime(2025, 5, 7, 16, 42, 50, 84344)).status\n", "test_name": "test_domain_filtering", "rerun": "0"}, "13": {"status": "FAIL", "message": "   assert 0 == 3\n    +  where 0 = len([])\n", "test_name": "test_url_queue_management", "rerun": "0"}}, "status": {"total_pass": 9, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 5, "total_error": 0}}, "5": {"suite_name": "tests/test_crawl4ai_extended.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_raise_for_status", "rerun": "0"}, "1": {"status": "FAIL", "message": "   assert 0 == 200\n    +  where 0 = CrawlResult(url='https://example.com', content={}, metadata={}, status=0, error=\"Invalid URL: Internal TypeError: dete...() got an unexpected keyword argument 'current_url_info'\", timestamp=datetime.datetime(2025, 5, 7, 16, 42, 50, 111219)).status\n", "test_name": "test_crawl_with_urlinfo", "rerun": "0"}, "2": {"status": "SKIP", "message": "('/home/alex/DEV/lib2docScrape/tests/test_crawl4ai_extended.py', 170, 'Skipped: Link following is handled by the main Crawler, not the backend directly.')\n", "test_name": "test_crawl_depth_first", "rerun": "0"}, "3": {"status": "FAIL", "message": "   assert False\n    +  where False = all(<generator object test_rate_limiting_application.<locals>.<genexpr> at 0x7f2169e02400>)\n", "test_name": "test_rate_limiting_application", "rerun": "0"}, "4": {"status": "FAIL", "message": "   assert False\n    +  where False = all(<generator object test_concurrent_request_limit.<locals>.<genexpr> at 0x7f216a1432a0>)\n", "test_name": "test_concurrent_request_limit", "rerun": "0"}, "5": {"status": "FAIL", "message": "       AssertionError: assert 'https://example.com//page1' == 'https://example.com/page1'\n         \n         - https://example.com/page1\n         + https://example.com//page1\n         ?                     +\n", "test_name": "test_url_normalization", "rerun": "0"}, "6": {"status": "FAIL", "message": "       assert 0 == 404\n        +  where 0 = CrawlResult(url='https://nonexistent.example.com', content={}, metadata={}, status=0, error=\"Invalid URL: Internal Typ...() got an unexpected keyword argument 'current_url_info'\", timestamp=datetime.datetime(2025, 5, 7, 16, 42, 50, 155747)).status\n", "test_name": "test_error_propagation", "rerun": "0"}, "7": {"status": "FAIL", "message": "   assert 0 == 3\n    +  where 0 = len([])\n", "test_name": "test_retry_behavior", "rerun": "0"}, "8": {"status": "FAIL", "message": "   assert datetime.datetime(2025, 5, 7, 19, 42, 50, 171130) == 1.0\n", "test_name": "test_metrics_accuracy", "rerun": "0"}, "9": {"status": "PASS", "message": "", "test_name": "test_resource_cleanup", "rerun": "0"}, "10": {"status": "FAIL", "message": "   AssertionError: assert None == 'https'\n    +  where None = URLInfo(raw='https://docs.python.org/3/', base='None', normalized='https://docs.python.org/3/', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').scheme\n", "test_name": "test_url_info_initialization[https://docs.python.org/3/-expected0]", "rerun": "0"}, "11": {"status": "FAIL", "message": "   AssertionError: assert None == 'https'\n    +  where None = URLInfo(raw='https://docs.python.org', base='None', normalized='https://docs.python.org', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').scheme\n", "test_name": "test_url_info_initialization[https://docs.python.org-expected1]", "rerun": "0"}, "12": {"status": "FAIL", "message": "   AssertionError: assert 'https://docs...test#fragment' == 'https://docs...3/?query=test'\n     \n     - https://docs.python.org:8080/3/?query=test\n     + https://docs.python.org:8080/3/?query=test#fragment\n     ?                                           +++++++++\n", "test_name": "test_url_info_initialization[https://docs.python.org:8080/3/?query=test#fragment-expected2]", "rerun": "0"}, "13": {"status": "FAIL", "message": "   AssertionError: assert False == True\n    +  where False = URLInfo(raw='https://user:password@docs.python.org/3/', base='None', normalized='https://user:password@docs.python.org/3/', status='invalid (Auth info not allowed)').is_valid\n", "test_name": "test_url_info_initialization[https://user:password@docs.python.org/3/-expected3]", "rerun": "0"}, "14": {"status": "FAIL", "message": "   AssertionError: assert 'https://docs... with spaces/' == 'https://docs...ith%20spaces/'\n     \n     - https://docs.python.org/path%20with%20spaces/\n     ?                             ^^^    ^^^\n     + https://docs.python.org/path with spaces/\n     ?                             ^    ^\n", "test_name": "test_url_info_initialization[https://docs.python.org/path with spaces/-expected4]", "rerun": "0"}, "15": {"status": "FAIL", "message": "   AssertionError: assert 'https://docs...n.org/3/../4/' == 'https://docs.python.org/4/'\n     \n     - https://docs.python.org/4/\n     + https://docs.python.org/3/../4/\n     ?                         +++++\n", "test_name": "test_url_info_initialization[https://docs.python.org/3/../4/-expected5]", "rerun": "0"}, "16": {"status": "PASS", "message": "", "test_name": "test_url_info_initialization[invalid-url-expected6]", "rerun": "0"}, "17": {"status": "PASS", "message": "", "test_name": "test_url_info_hashable", "rerun": "0"}, "18": {"status": "PASS", "message": "", "test_name": "test_url_info_immutable", "rerun": "0"}}, "status": {"total_pass": 5, "total_skip": 1, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 13, "total_error": 0}}, "6": {"suite_name": "tests/test_crawler.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_crawler_initialization", "rerun": "0"}, "1": {"status": "FAIL", "message": "   AssertionError: assert False\n    +  where False = _should_crawl_url(URLInfo(raw='https://example.com/doc1', base='None', normalized='https://example.com/doc1', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')'), CrawlTarget(url='https://example.com/doc1', depth=2, follow_external=False, content_types=['text/html'], exclude_patterns=['/excluded/'], required_patterns=['/doc'], max_pages=10, allowed_paths=[], excluded_paths=[]))\n    +    where _should_crawl_url = <src.crawler.DocumentationCrawler object at 0x7f2169f812b0>._should_crawl_url\n    +    and   URLInfo(raw='https://example.com/doc1', base='None', normalized='https://example.com/doc1', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')') = create_url_info('https://example.com/doc1')\n", "test_name": "test_url_filtering", "rerun": "0"}, "2": {"status": "FAIL", "message": "   assert None is not None\n", "test_name": "test_single_url_processing", "rerun": "0"}, "3": {"status": "FAIL", "message": "   AssertionError: assert 0 > 0\n    +  where 0 = CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 42, 50, 263250, tzinfo=datetime.timezone.utc), end_time=dateti...cessful_crawls=0, failed_crawls=0, total_time=1.245444, average_time_per_page=0.0, quality_issues=0, bytes_processed=0).pages_crawled\n    +    where CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 42, 50, 263250, tzinfo=datetime.timezone.utc), end_time=dateti...cessful_crawls=0, failed_crawls=0, total_time=1.245444, average_time_per_page=0.0, quality_issues=0, bytes_processed=0) = CrawlResult(target=CrawlTarget(url='https://example.com/doc1', depth=2, follow_external=False, content_types=['text/ht..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).stats\n", "test_name": "test_depth_limited_crawling", "rerun": "0"}, "4": {"status": "FAIL", "message": "   AssertionError: assert 0 == 3\n    +  where 0 = CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 42, 51, 516000, tzinfo=datetime.timezone.utc), end_time=None, ..., successful_crawls=0, failed_crawls=0, total_time=0.0, average_time_per_page=0.0, quality_issues=0, bytes_processed=0).pages_crawled\n    +  and   3 = len({'https://example.com/doc1', 'https://example.com/doc2', 'https://example.com/doc3'})\n", "test_name": "test_concurrent_processing", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_rate_limiting", "rerun": "0"}, "6": {"status": "FAIL", "message": "   AssertionError: assert 0 > 0\n    +  where 0 = CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 42, 56, 138983, tzinfo=datetime.timezone.utc), end_time=dateti...cessful_crawls=0, failed_crawls=0, total_time=1.201018, average_time_per_page=0.0, quality_issues=0, bytes_processed=0).failed_crawls\n    +    where CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 42, 56, 138983, tzinfo=datetime.timezone.utc), end_time=dateti...cessful_crawls=0, failed_crawls=0, total_time=1.201018, average_time_per_page=0.0, quality_issues=0, bytes_processed=0) = CrawlResult(target=CrawlTarget(url='https://invalid.example.com', depth=1, follow_external=False, content_types=['text..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).stats\n", "test_name": "test_error_handling", "rerun": "0"}, "7": {"status": "FAIL", "message": "   AssertionError: assert 0 == 1\n    +  where 0 = CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 42, 57, 348958, tzinfo=datetime.timezone.utc), end_time=dateti...cessful_crawls=0, failed_crawls=0, total_time=1.234256, average_time_per_page=0.0, quality_issues=0, bytes_processed=0).successful_crawls\n    +    where CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 42, 57, 348958, tzinfo=datetime.timezone.utc), end_time=dateti...cessful_crawls=0, failed_crawls=0, total_time=1.234256, average_time_per_page=0.0, quality_issues=0, bytes_processed=0) = CrawlResult(target=CrawlTarget(url='https://example.com/doc1', depth=1, follow_external=False, content_types=['text/ht..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).stats\n", "test_name": "test_content_processing_pipeline", "rerun": "0"}, "8": {"status": "PASS", "message": "", "test_name": "test_cleanup", "rerun": "0"}, "9": {"status": "PASS", "message": "", "test_name": "test_max_pages_limit", "rerun": "0"}, "10": {"status": "FAIL", "message": "   AssertionError: assert 0.0 > 0\n    +  where 0.0 = CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 1, 149001, tzinfo=datetime.timezone.utc), end_time=datetim...cessful_crawls=0, failed_crawls=0, total_time=1.252023, average_time_per_page=0.0, quality_issues=0, bytes_processed=0).average_time_per_page\n    +    where CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 1, 149001, tzinfo=datetime.timezone.utc), end_time=datetim...cessful_crawls=0, failed_crawls=0, total_time=1.252023, average_time_per_page=0.0, quality_issues=0, bytes_processed=0) = CrawlResult(target=CrawlTarget(url='https://example.com/doc1', depth=1, follow_external=False, content_types=['text/ht..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).stats\n", "test_name": "test_statistics_tracking", "rerun": "0"}, "11": {"status": "PASS", "message": "", "test_name": "test_project_type_enum", "rerun": "0"}, "12": {"status": "PASS", "message": "", "test_name": "test_project_identity", "rerun": "0"}, "13": {"status": "PASS", "message": "", "test_name": "test_project_identifier", "rerun": "0"}, "14": {"status": "FAIL", "message": "   assert False\n    +  where False = all(<generator object test_duckduckgo_search.<locals>.<genexpr> at 0x7f2169de8ba0>)\n", "test_name": "test_duckduckgo_search", "rerun": "0"}, "15": {"status": "FAIL", "message": "   AssertionError: assert 0 == 1\n    +  where 0 = CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 4, 232893, tzinfo=datetime.timezone.utc), end_time=datetim...cessful_crawls=0, failed_crawls=0, total_time=1.005437, average_time_per_page=0.0, quality_issues=0, bytes_processed=0).successful_crawls\n    +    where CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 4, 232893, tzinfo=datetime.timezone.utc), end_time=datetim...cessful_crawls=0, failed_crawls=0, total_time=1.005437, average_time_per_page=0.0, quality_issues=0, bytes_processed=0) = CrawlResult(target=CrawlTarget(url='testpackage', depth=1, follow_external=False, content_types=['text/html'], exclude..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).stats\n", "test_name": "test_url_discovery", "rerun": "0"}}, "status": {"total_pass": 7, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 9, "total_error": 0}}, "7": {"suite_name": "tests/test_crawler_advanced.py", "tests": {"0": {"status": "FAIL", "message": "   AssertionError: assert 0 == 1\n    +  where 0 = CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 5, 247467, tzinfo=datetime.timezone.utc), end_time=datetim...cessful_crawls=0, failed_crawls=0, total_time=0.835775, average_time_per_page=0.0, quality_issues=0, bytes_processed=0).pages_crawled\n    +    where CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 5, 247467, tzinfo=datetime.timezone.utc), end_time=datetim...cessful_crawls=0, failed_crawls=0, total_time=0.835775, average_time_per_page=0.0, quality_issues=0, bytes_processed=0) = CrawlResult(target=CrawlTarget(url='http://example.com', depth=1, follow_external=False, content_types=['text/html'], ..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).stats\n", "test_name": "test_crawler_basic_crawl", "rerun": "0"}, "1": {"status": "FAIL", "message": "   AssertionError: assert 0 == 1\n    +  where 0 = CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 6, 140995, tzinfo=datetime.timezone.utc), end_time=datetim...ccessful_crawls=0, failed_crawls=0, total_time=1.16363, average_time_per_page=0.0, quality_issues=0, bytes_processed=0).failed_crawls\n    +    where CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 6, 140995, tzinfo=datetime.timezone.utc), end_time=datetim...ccessful_crawls=0, failed_crawls=0, total_time=1.16363, average_time_per_page=0.0, quality_issues=0, bytes_processed=0) = CrawlResult(target=CrawlTarget(url='http://nonexistent.com', depth=1, follow_external=False, content_types=['text/html..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).stats\n", "test_name": "test_crawler_failed_crawl", "rerun": "0"}, "2": {"status": "FAIL", "message": "   AssertionError: assert 0 == 1\n    +  where 0 = CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 7, 312789, tzinfo=datetime.timezone.utc), end_time=datetim...ccessful_crawls=0, failed_crawls=0, total_time=1.19027, average_time_per_page=0.0, quality_issues=0, bytes_processed=0).successful_crawls\n    +    where CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 7, 312789, tzinfo=datetime.timezone.utc), end_time=datetim...ccessful_crawls=0, failed_crawls=0, total_time=1.19027, average_time_per_page=0.0, quality_issues=0, bytes_processed=0) = CrawlResult(target=CrawlTarget(url='http://example.com', depth=1, follow_external=False, content_types=['text/html'], ..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).stats\n", "test_name": "test_crawler_retry_mechanism", "rerun": "0"}, "3": {"status": "SKIP", "message": "('/home/alex/DEV/lib2docScrape/tests/test_crawler_advanced.py', 160, 'Skipped: Rate limiter timing is difficult to test reliably with mocks')\n", "test_name": "test_crawler_rate_limiting", "rerun": "0"}, "4": {"status": "FAIL", "message": "       AssertionError: Expected 'process' to have been called once. Called 0 times.\n   AssertionError: Expected 'process' to have been called once. Called 0 times.\n", "test_name": "test_crawler_content_processing", "rerun": "0"}, "5": {"status": "FAIL", "message": "   AssertionError: assert 0 == 1\n    +  where 0 = len([])\n    +    where [] = CrawlResult(target=CrawlTarget(url='http://example.com', depth=1, follow_external=False, content_types=['text/html'], ..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).issues\n", "test_name": "test_crawler_quality_checking", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_crawler_resource_cleanup", "rerun": "0"}, "7": {"status": "FAIL", "message": "   assert 0 == 5\n    +  where 0 = sum(<generator object test_crawler_concurrent_requests.<locals>.<genexpr> at 0x7f2169e3a140>)\n", "test_name": "test_crawler_concurrent_requests", "rerun": "0"}, "8": {"status": "FAIL", "message": "           AssertionError: Expected documents for http://EXAMPLE.com, but got none.\n           assert []\n            +  where [] = CrawlResult(target=CrawlTarget(url='http://EXAMPLE.com', depth=1, follow_external=False, content_types=['text/html'], ..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).documents\n", "test_name": "test_crawler_url_normalization", "rerun": "0"}, "9": {"status": "FAIL", "message": "   AssertionError: assert 0 == 1\n    +  where 0 = len([])\n    +    where [] = CrawlResult(target=CrawlTarget(url='http://example.com', depth=1, follow_external=False, content_types=['text/html'], ..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).issues\n", "test_name": "test_crawler_error_handling[error0-Network error]", "rerun": "0"}, "10": {"status": "FAIL", "message": "   AssertionError: assert 0 == 1\n    +  where 0 = len([])\n    +    where [] = CrawlResult(target=CrawlTarget(url='http://example.com', depth=1, follow_external=False, content_types=['text/html'], ..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).issues\n", "test_name": "test_crawler_error_handling[error1-Invalid response]", "rerun": "0"}, "11": {"status": "FAIL", "message": "   AssertionError: assert 0 == 1\n    +  where 0 = len([])\n    +    where [] = CrawlResult(target=CrawlTarget(url='http://example.com', depth=1, follow_external=False, content_types=['text/html'], ..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).issues\n", "test_name": "test_crawler_error_handling[error2-Timeout]", "rerun": "0"}, "12": {"status": "FAIL", "message": "   AssertionError: assert 0 == 1\n    +  where 0 = len([])\n    +    where [] = CrawlResult(target=CrawlTarget(url='http://example.com', depth=1, follow_external=False, content_types=['text/html'], ..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).issues\n", "test_name": "test_crawler_error_handling[error3-Connection failed]", "rerun": "0"}}, "status": {"total_pass": 1, "total_skip": 1, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 11, "total_error": 0}}, "8": {"suite_name": "tests/test_gui.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_home_page", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_crawl_request", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_connection_manager", "rerun": "0"}}, "status": {"total_pass": 3, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "9": {"suite_name": "tests/test_helpers.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_rate_limiter", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_retry_strategy", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_timer", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_similarity_calculation", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_checksum_generation", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_logging_setup", "rerun": "0"}}, "status": {"total_pass": 6, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "10": {"suite_name": "tests/test_integration.py", "tests": {"0": {"status": "FAIL", "message": "   AssertionError: Expected pages crawled > 0, got 0\n   assert 0 > 0\n    +  where 0 = CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 27, 224192, tzinfo=datetime.timezone.utc), end_time=dateti...cessful_crawls=0, failed_crawls=0, total_time=1.262566, average_time_per_page=0.0, quality_issues=0, bytes_processed=0).pages_crawled\n    +    where CrawlStats(start_time=datetime.datetime(2025, 5, 7, 16, 43, 27, 224192, tzinfo=datetime.timezone.utc), end_time=dateti...cessful_crawls=0, failed_crawls=0, total_time=1.262566, average_time_per_page=0.0, quality_issues=0, bytes_processed=0) = CrawlResult(target=CrawlTarget(url='file:///tmp/pytest-of-alex/pytest-67/test_full_site_crawl0/test_docs/index.html', ..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).stats\n", "test_name": "test_full_site_crawl", "rerun": "0"}, "1": {"status": "FAIL", "message": "   AssertionError: Expected 1 document for guide.html, got 0\n   assert 0 == 1\n    +  where 0 = len([])\n    +    where [] = CrawlResult(target=CrawlTarget(url='file:///tmp/pytest-of-alex/pytest-67/test_content_processing_pipeli0/test_docs/gui..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).documents\n", "test_name": "test_content_processing_pipeline", "rerun": "0"}, "2": {"status": "FAIL", "message": "   AssertionError: Metrics for file:///tmp/pytest-of-alex/pytest-67/test_quality_checks0/test_docs/api.html not found\n   assert 'file:///tmp/pytest-of-alex/pytest-67/test_quality_checks0/test_docs/api.html' in {}\n    +  where {} = CrawlResult(target=CrawlTarget(url='file:///tmp/pytest-of-alex/pytest-67/test_quality_checks0/test_docs/api.html', dep..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).metrics\n", "test_name": "test_quality_checks", "rerun": "0"}, "3": {"status": "FAIL", "message": "   AssertionError: Should have crawled all 4 pages\n   assert 0 == 4\n    +  where 0 = len([])\n    +    where [] = CrawlResult(target=CrawlTarget(url='file:///tmp/pytest-of-alex/pytest-67/test_document_organization0/test_docs/index.h..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).documents\n", "test_name": "test_document_organization", "rerun": "0"}, "4": {"status": "FAIL", "message": "   AssertionError: Organizer should have 4 documents\n   assert 0 == 4\n    +  where 0 = len({})\n    +    where {} = <src.organizers.doc_organizer.DocumentOrganizer object at 0x7f2169e981d0>.documents\n    +      where <src.organizers.doc_organizer.DocumentOrganizer object at 0x7f2169e981d0> = <src.crawler.DocumentationCrawler object at 0x7f2169e99910>.document_organizer\n", "test_name": "test_search_functionality", "rerun": "0"}}, "status": {"total_pass": 0, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 5, "total_error": 0}}, "11": {"suite_name": "tests/test_integration_advanced.py", "tests": {"0": {"status": "FAIL", "message": "           AssertionError: assert 0 > 0\n            +  where 0 = len([])\n            +    where [] = CrawlResult(target=CrawlTarget(url='https://example.com', depth=2, follow_external=False, content_types=['text/html'],..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).documents\n", "test_name": "test_full_crawl_pipeline", "rerun": "0"}, "1": {"status": "FAIL", "message": "       AssertionError: assert 0 == 1\n        +  where 0 = len([])\n        +    where [] = CrawlResult(target=CrawlTarget(url='https://example.com', depth=1, follow_external=False, content_types=['text/html'],..., documents=[], issues=[], metrics={}, structure=None, processed_url=None, failed_urls=[], errors={}, crawled_pages={}).failed_urls\n", "test_name": "test_error_handling_integration", "rerun": "0"}, "2": {"status": "FAIL", "message": "       AssertionError: Expected concurrent elapsed time < 1.5s, but got 8.1052s\n       assert 8.105191007023677 < 1.5\n", "test_name": "test_rate_limiting_integration", "rerun": "0"}, "3": {"status": "FAIL", "message": "       KeyError: 'https://example.com/'\n", "test_name": "test_content_processing_integration", "rerun": "0"}}, "status": {"total_pass": 0, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 4, "total_error": 0}}, "12": {"suite_name": "tests/test_link_processor.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_basic_link_extraction", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_empty_document", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_malformed_links", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_duplicate_links", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_fragment_handling", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_query_params", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_special_characters", "rerun": "0"}, "7": {"status": "PASS", "message": "", "test_name": "test_nested_links", "rerun": "0"}, "8": {"status": "PASS", "message": "", "test_name": "test_invalid_base_url", "rerun": "0"}, "9": {"status": "PASS", "message": "", "test_name": "test_data_urls", "rerun": "0"}, "10": {"status": "PASS", "message": "", "test_name": "test_unicode_urls", "rerun": "0"}, "11": {"status": "PASS", "message": "", "test_name": "test_protocol_relative_urls", "rerun": "0"}, "12": {"status": "PASS", "message": "", "test_name": "test_base_tag_handling", "rerun": "0"}, "13": {"status": "PASS", "message": "", "test_name": "test_malformed_base_tags", "rerun": "0"}, "14": {"status": "PASS", "message": "", "test_name": "test_link_attributes", "rerun": "0"}, "15": {"status": "PASS", "message": "", "test_name": "test_link_schemes", "rerun": "0"}, "16": {"status": "PASS", "message": "", "test_name": "test_url_normalization", "rerun": "0"}, "17": {"status": "PASS", "message": "", "test_name": "test_url_case_sensitivity", "rerun": "0"}, "18": {"status": "PASS", "message": "", "test_name": "test_url_encoding_handling", "rerun": "0"}}, "status": {"total_pass": 19, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "13": {"suite_name": "tests/test_organizer.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_document_organizer_initialization", "rerun": "0"}, "1": {"status": "FAIL", "message": "   AssertionError: assert 1 == 2\n    +  where 1 = len([DocumentVersion(version_id='v1', timestamp=datetime.datetime(2025, 5, 7, 19, 43, 47, 131061), hash='f8b34a285a90178a8... 'Version 1'}, 'metadata': {}, 'assets': {}, 'headings': [], 'structure': [], 'errors': [], 'title': 'Test Document'})])\n    +    where [DocumentVersion(version_id='v1', timestamp=datetime.datetime(2025, 5, 7, 19, 43, 47, 131061), hash='f8b34a285a90178a8... 'Version 1'}, 'metadata': {}, 'assets': {}, 'headings': [], 'structure': [], 'errors': [], 'title': 'Test Document'})] = DocumentMetadata(title='Test Document', url='https://example.com/doc', category='reference', tags=['version', 'test', ...al': [], 'code': []}, index_terms=['test', 'document'], last_updated=datetime.datetime(2025, 5, 7, 19, 43, 47, 131061)).versions\n", "test_name": "test_document_version_management", "rerun": "0"}, "2": {"status": "FAIL", "message": "   AssertionError: assert 'example' is None\n    +  where 'example' = DocumentMetadata(title='Miscellaneous', url='https://example.com/misc', category='example', tags=['random', 'content',...ernal': [], 'code': []}, index_terms=['miscellaneous'], last_updated=datetime.datetime(2025, 5, 7, 19, 43, 47, 135711)).category\n", "test_name": "test_document_categorization", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_reference_extraction", "rerun": "0"}, "4": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_search_functionality.<locals>.<genexpr> at 0x7f2169e03b90>)\n", "test_name": "test_search_functionality", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_collection_management", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_document_similarity", "rerun": "0"}, "7": {"status": "FAIL", "message": "   AssertionError: assert 'v1' > 'v1'\n    +  where 'v1' = DocumentVersion(version_id='v1', timestamp=datetime.datetime(2025, 5, 7, 19, 43, 47, 148902), hash='bf0964b5fd74e7d74a...tial version'}, 'metadata': {}, 'assets': {}, 'headings': [], 'structure': [], 'errors': [], 'title': 'Test Document'}).version_id\n    +  and   'v1' = DocumentVersion(version_id='v1', timestamp=datetime.datetime(2025, 5, 7, 19, 43, 47, 148902), hash='bf0964b5fd74e7d74a...tial version'}, 'metadata': {}, 'assets': {}, 'headings': [], 'structure': [], 'errors': [], 'title': 'Test Document'}).version_id\n", "test_name": "test_version_tracking", "rerun": "0"}, "8": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_search_index_generation.<locals>.<genexpr> at 0x7f2169f2b370>)\n", "test_name": "test_search_index_generation", "rerun": "0"}}, "status": {"total_pass": 4, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 5, "total_error": 0}}, "14": {"suite_name": "tests/test_processor.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_content_processor_initialization", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_full_content_processing", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_content_size_limits", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_malformed_html_handling", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_special_content_handling", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_content_structure_preservation", "rerun": "0"}}, "status": {"total_pass": 6, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "15": {"suite_name": "tests/test_quality.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_quality_checker_basic", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_quality_checker_content_length", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_quality_checker_headings", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_quality_checker_links", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_quality_checker_code_blocks", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_quality_checker_metadata", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_quality_checker_custom_config", "rerun": "0"}}, "status": {"total_pass": 7, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "16": {"suite_name": "tests/test_url_classification.py", "tests": {"0": {"status": "FAIL", "message": "   AssertionError: assert 'UNKNOWN' == 'INTERNAL'\n     \n     - INTERNAL\n     + UNKNOWN\n", "test_name": "test_determine_url_type[http://a.com/foo-http://a.com/bar-INTERNAL]", "rerun": "0"}, "1": {"status": "FAIL", "message": "   AssertionError: assert 'UNKNOWN' == 'INTERNAL'\n     \n     - INTERNAL\n     + UNKNOWN\n", "test_name": "test_determine_url_type[https://a.com-https://a.com/xyz-INTERNAL]", "rerun": "0"}, "2": {"status": "FAIL", "message": "   AssertionError: assert 'UNKNOWN' == 'EXTERNAL'\n     \n     - EXTERNAL\n     + UNKNOWN\n", "test_name": "test_determine_url_type[http://a.com-https://a.com-EXTERNAL]", "rerun": "0"}, "3": {"status": "FAIL", "message": "   AssertionError: assert 'UNKNOWN' == 'EXTERNAL'\n     \n     - EXTERNAL\n     + UNKNOWN\n", "test_name": "test_determine_url_type[http://sub.a.com-http://a.com-EXTERNAL]", "rerun": "0"}, "4": {"status": "FAIL", "message": "   AssertionError: assert 'UNKNOWN' == 'EXTERNAL'\n     \n     - EXTERNAL\n     + UNKNOWN\n", "test_name": "test_determine_url_type[http://a.com-http://b.com-EXTERNAL]", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_determine_url_type[None-http://a.com-UNKNOWN]", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_determine_url_type[http://a.com-None-UNKNOWN]", "rerun": "0"}}, "status": {"total_pass": 2, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 5, "total_error": 0}}, "17": {"suite_name": "tests/test_url_classification_subdomain.py", "tests": {"0": {"status": "FAIL", "message": "   AssertionError: URL should be valid: Same subdomain, internal link (https://docs.example.com/api/v1)\n   assert False\n    +  where False = URLInfo(raw='https://docs.example.com/api/v1', base='https://docs.example.com/', normalized='https://docs.example.com/...v1', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[https://docs.example.com/api/v1-https://docs.example.com/-URLType.INTERNAL-Same subdomain, internal link]", "rerun": "0"}, "1": {"status": "FAIL", "message": "   AssertionError: URL should be valid: Relative link, same subdomain (/faq)\n   assert False\n    +  where False = URLInfo(raw='/faq', base='https://docs.example.com/', normalized='/faq', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[/faq-https://docs.example.com/-URLType.INTERNAL-Relative link, same subdomain]", "rerun": "0"}, "2": {"status": "FAIL", "message": "   AssertionError: URL should be valid: Different subdomain, same parent domain - treated as internal (https://blog.example.com)\n   assert False\n    +  where False = URLInfo(raw='https://blog.example.com', base='https://docs.example.com/', normalized='https://blog.example.com', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[https://blog.example.com-https://docs.example.com/-URLType.INTERNAL-Different subdomain, same parent domain - treated as internal]", "rerun": "0"}, "3": {"status": "FAIL", "message": "   AssertionError: URL should be valid: Protocol-relative link to different subdomain (//blog.example.com/latest)\n   assert False\n    +  where False = URLInfo(raw='//blog.example.com/latest', base='https://docs.example.com/', normalized='//blog.example.com/latest', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[//blog.example.com/latest-https://docs.example.com/-URLType.INTERNAL-Protocol-relative link to different subdomain]", "rerun": "0"}, "4": {"status": "FAIL", "message": "   AssertionError: URL should be valid: Link from subdomain to parent domain (https://example.com/about)\n   assert False\n    +  where False = URLInfo(raw='https://example.com/about', base='https://docs.example.com/', normalized='https://example.com/about', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[https://example.com/about-https://docs.example.com/-URLType.INTERNAL-Link from subdomain to parent domain]", "rerun": "0"}, "5": {"status": "FAIL", "message": "   AssertionError: URL should be valid: Link from parent to known subdomain - treated as internal (https://docs.example.com/intro)\n   assert False\n    +  where False = URLInfo(raw='https://docs.example.com/intro', base='https://example.com/', normalized='https://docs.example.com/intro', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[https://docs.example.com/intro-https://example.com/-URLType.INTERNAL-Link from parent to known subdomain - treated as internal]", "rerun": "0"}, "6": {"status": "FAIL", "message": "   AssertionError: URL should be valid: www vs non-www, same domain - often internal (https://www.example.com)\n   assert False\n    +  where False = URLInfo(raw='https://www.example.com', base='https://example.com/', normalized='https://www.example.com', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[https://www.example.com-https://example.com/-URLType.INTERNAL-www vs non-www, same domain - often internal]", "rerun": "0"}, "7": {"status": "FAIL", "message": "   AssertionError: URL should be valid: non-www vs www, same domain - often internal (https://example.com)\n   assert False\n    +  where False = URLInfo(raw='https://example.com', base='https://www.example.com/', normalized='https://example.com', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[https://example.com-https://www.example.com/-URLType.INTERNAL-non-www vs www, same domain - often internal]", "rerun": "0"}, "8": {"status": "FAIL", "message": "   AssertionError: URL should be valid: Deeply nested different subdomain (https://api.internal.dev.example.com)\n   assert False\n    +  where False = URLInfo(raw='https://api.internal.dev.example.com', base='https://docs.example.com/', normalized='https://api.internal...om', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[https://api.internal.dev.example.com-https://docs.example.com/-URLType.INTERNAL-Deeply nested different subdomain]", "rerun": "0"}, "9": {"status": "FAIL", "message": "   AssertionError: URL should be valid: Internal link within deeply nested subdomain (https://api.internal.dev.example.com/status)\n   assert False\n    +  where False = URLInfo(raw='https://api.internal.dev.example.com/status', base='https://api.internal.dev.example.com/', normalized='h...us', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[https://api.internal.dev.example.com/status-https://api.internal.dev.example.com/-URLType.INTERNAL-Internal link within deeply nested subdomain]", "rerun": "0"}, "10": {"status": "FAIL", "message": "   AssertionError: URL should be valid: Relative path resolving within the base domain (../marketing/campaign)\n   assert False\n    +  where False = URLInfo(raw='../marketing/campaign', base='https://docs.example.com/team/', normalized='../marketing/campaign', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_subdomain_classification[../marketing/campaign-https://docs.example.com/team/-URLType.INTERNAL-Relative path resolving within the base domain]", "rerun": "0"}}, "status": {"total_pass": 0, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 11, "total_error": 0}}, "18": {"suite_name": "tests/test_url_handling_integration.py", "tests": {"0": {"status": "FAIL", "message": "       AssertionError: Expected 'get' to have been called once. Called 0 times.\n   AssertionError: Expected 'get' to have been called once. Called 0 times.\n", "test_name": "test_crawler_url_handling", "rerun": "0"}, "1": {"status": "FAIL", "message": "       AssertionError: Expected https://example.com/about to be internal\n       assert <URLType.UNKNOWN: 3> == <URLType.INTERNAL: 1>\n        +  where <URLType.UNKNOWN: 3> = URLInfo(raw='https://example.com/about', base='https://example.com/docs/index.html', normalized='https://example.com/about', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').url_type\n        +  and   <URLType.INTERNAL: 1> = URLType.INTERNAL\n", "test_name": "test_url_type_classification", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_url_security_validation", "rerun": "0"}}, "status": {"total_pass": 1, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 2, "total_error": 0}}, "19": {"suite_name": "tests/test_url_info_enhanced.py", "tests": {"0": {"status": "FAIL", "message": "   AssertionError: assert None == ''\n", "test_name": "test_domain_parsing", "rerun": "0"}, "1": {"status": "FAIL", "message": "   AssertionError: assert False\n    +  where False = URLInfo(raw='http://www.EXAMPLE.com/to/resource?a=1&b=2#fragment', base='None', normalized='http://www.EXAMPLE.com/to/...nt', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_backward_compatibility", "rerun": "0"}}, "status": {"total_pass": 0, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 2, "total_error": 0}}, "20": {"suite_name": "tests/test_url_normalization.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_valid[EXAMPLE.com.-example.com]", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_valid[m\\xfcller.de-xn--mller-kva.de]", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_valid[sub.Example.COM-sub.example.com]", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_valid[2001:db8::1-2001:db8::1]", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_valid[localhost-localhost]", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_valid[example.com-example.com]", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_valid[www.example.co.uk-www.example.co.uk]", "rerun": "0"}, "7": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_valid[xn--mller-kva.de-xn--mller-kva.de]", "rerun": "0"}, "8": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_invalid[]", "rerun": "0"}, "9": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_invalid[foo<>bar.com]", "rerun": "0"}, "10": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_invalid[aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.com]", "rerun": "0"}, "11": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_invalid[example..com]", "rerun": "0"}, "12": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_invalid[-startdash.com]", "rerun": "0"}, "13": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_invalid[enddash-.com]", "rerun": "0"}, "14": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_invalid[aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]", "rerun": "0"}, "15": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_invalid[host_name.com]", "rerun": "0"}, "16": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_invalid[host name.com]", "rerun": "0"}, "17": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname_invalid[.startdot.com]", "rerun": "0"}, "18": {"status": "PASS", "message": "", "test_name": "test_normalize_path[-/]", "rerun": "0"}, "19": {"status": "PASS", "message": "", "test_name": "test_normalize_path[/-/]", "rerun": "0"}, "20": {"status": "PASS", "message": "", "test_name": "test_normalize_path[/foo/bar-/foo/bar]", "rerun": "0"}, "21": {"status": "FAIL", "message": "   AssertionError: assert 'foo/bar' == '/foo/bar'\n     \n     - /foo/bar\n     ? -\n     + foo/bar\n", "test_name": "test_normalize_path[foo/bar-/foo/bar]", "rerun": "0"}, "22": {"status": "PASS", "message": "", "test_name": "test_normalize_path[/foo//bar-/foo/bar]", "rerun": "0"}, "23": {"status": "FAIL", "message": "   AssertionError: assert '.' == '/'\n     \n     - /\n     + .\n", "test_name": "test_normalize_path[.-/]", "rerun": "0"}, "24": {"status": "FAIL", "message": "   AssertionError: assert 'foo' == '/foo'\n     \n     - /foo\n     ? -\n     + foo\n", "test_name": "test_normalize_path[./foo-/foo]", "rerun": "0"}, "25": {"status": "PASS", "message": "", "test_name": "test_normalize_path[/foo/./bar-/foo/bar]", "rerun": "0"}, "26": {"status": "PASS", "message": "", "test_name": "test_normalize_path[/foo/../bar-/bar]", "rerun": "0"}, "27": {"status": "PASS", "message": "", "test_name": "test_normalize_path[/../foo-/foo]", "rerun": "0"}, "28": {"status": "PASS", "message": "", "test_name": "test_normalize_path[/foo/%20bar-/foo/%20bar]", "rerun": "0"}, "29": {"status": "FAIL", "message": "   AssertionError: assert '/foo/bar' == '/foo/bar/'\n     \n     - /foo/bar/\n     ?         -\n     + /foo/bar\n", "test_name": "test_normalize_path[/foo/bar/-/foo/bar/]", "rerun": "0"}, "30": {"status": "FAIL", "message": "   AssertionError: assert 'path/to/resource' == '/path/to/resource'\n     \n     - /path/to/resource\n     ? -\n     + path/to/resource\n", "test_name": "test_normalize_path[path/to/resource-/path/to/resource]", "rerun": "0"}, "31": {"status": "PASS", "message": "", "test_name": "test_normalize_path[/path with spaces-/path%20with%20spaces]", "rerun": "0"}, "32": {"status": "PASS", "message": "", "test_name": "test_normalize_path[/\\xfcmlaut-/%C3%BCmlaut]", "rerun": "0"}, "33": {"status": "PASS", "message": "", "test_name": "test_normalize_path[/path/./to/../resource-/path/resource]", "rerun": "0"}}, "status": {"total_pass": 29, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 5, "total_error": 0}}, "21": {"suite_name": "tests/test_url_normalization_idn.py", "tests": {"0": {"status": "FAIL", "message": "   AssertionError: Failed check: Simple Chinese IDN (https://\u4f8b\u5b50.com)\n   assert 'https://\u4f8b\u5b50.com' == 'https://xn--fsqu00a.com/'\n     \n     - https://xn--fsqu00a.com/\n     + https://\u4f8b\u5b50.com\n", "test_name": "test_idn_normalization[https://\\u4f8b\\u5b50.com-https://xn--fsqu00a.com/-Simple Chinese IDN]", "rerun": "0"}, "1": {"status": "FAIL", "message": "   AssertionError: Failed check: German IDN with umlaut (https://b\u00fccher.de/)\n   assert 'https://b\u00fccher.de/' == 'https://xn--bcher-kva.de/'\n     \n     - https://xn--bcher-kva.de/\n     ?         ----     ----\n     + https://b\u00fccher.de/\n     ?          +\n", "test_name": "test_idn_normalization[https://b\\xfccher.de/-https://xn--bcher-kva.de/-German IDN with umlaut]", "rerun": "0"}, "2": {"status": "FAIL", "message": "   AssertionError: Failed check: Hindi IDN (http://\u0909\u0926\u093e\u0939\u0930\u0923.\u092a\u0930\u0940\u0915\u094d\u0937\u093e)\n   assert 'http://\u0909\u0926\u093e\u0939\u0930\u0923.\u092a\u0930\u0940\u0915\u094d\u0937\u093e' == 'http://xn--p...1b5bs3a9aj6g/'\n     \n     - http://xn--p1b6ci4b4b3a.xn--11b5bs3a9aj6g/\n     + http://\u0909\u0926\u093e\u0939\u0930\u0923.\u092a\u0930\u0940\u0915\u094d\u0937\u093e\n", "test_name": "test_idn_normalization[http://\\u0909\\u0926\\u093e\\u0939\\u0930\\u0923.\\u092a\\u0930\\u0940\\u0915\\u094d\\u0937\\u093e-http://xn--p1b6ci4b4b3a.xn--11b5bs3a9aj6g/-Hindi IDN]", "rerun": "0"}, "3": {"status": "FAIL", "message": "   AssertionError: Failed check: Chinese IDN with path and query (https://\u4f8b\u5b50.com/path?query=\u6d4b\u8bd5)\n   assert 'https://\u4f8b\u5b50.com/path?query=\u6d4b\u8bd5' == 'https://xn--...5%8B%E8%AF%95'\n     \n     - https://xn--fsqu00a.com/path?query=%E6%B5%8B%E8%AF%95\n     + https://\u4f8b\u5b50.com/path?query=\u6d4b\u8bd5\n", "test_name": "test_idn_normalization[https://\\u4f8b\\u5b50.com/path?query=\\u6d4b\\u8bd5-https://xn--fsqu00a.com/path?query=%E6%B5%8B%E8%AF%95-Chinese IDN with path and query]", "rerun": "0"}, "4": {"status": "FAIL", "message": "   AssertionError: Failed check: IDN in TLD part (https://subdomain.\u4f8b\u5b50.com)\n   assert 'https://subdomain.\u4f8b\u5b50.com' == 'https://subd...-fsqu00a.com/'\n     \n     - https://subdomain.xn--fsqu00a.com/\n     ?                   ^^^^^^^^^^^    -\n     + https://subdomain.\u4f8b\u5b50.com\n     ?                   ^^\n", "test_name": "test_idn_normalization[https://subdomain.\\u4f8b\\u5b50.com-https://subdomain.xn--fsqu00a.com/-IDN in TLD part]", "rerun": "0"}, "5": {"status": "FAIL", "message": "   AssertionError: Failed check: IDN in subdomain part (https://\u4f8b\u5b50.subdomain.com)\n   assert 'https://\u4f8b\u5b50.subdomain.com' == 'https://xn--...ubdomain.com/'\n     \n     - https://xn--fsqu00a.subdomain.com/\n     ?         ^^^^^^^^^^^              -\n     + https://\u4f8b\u5b50.subdomain.com\n     ?         ^^\n", "test_name": "test_idn_normalization[https://\\u4f8b\\u5b50.subdomain.com-https://xn--fsqu00a.subdomain.com/-IDN in subdomain part]", "rerun": "0"}, "6": {"status": "FAIL", "message": "   AssertionError: Failed check: Punycode input should not change (https://xn--fsqu00a.com)\n   assert 'https://xn--fsqu00a.com' == 'https://xn--fsqu00a.com/'\n     \n     - https://xn--fsqu00a.com/\n     ?                        -\n     + https://xn--fsqu00a.com\n", "test_name": "test_idn_normalization[https://xn--fsqu00a.com-https://xn--fsqu00a.com/-Punycode input should not change]", "rerun": "0"}, "7": {"status": "FAIL", "message": "   AssertionError: Failed check: Uppercase IDN TLD (https://\u4f8b\u5b50.COM)\n   assert 'https://\u4f8b\u5b50.COM' == 'https://xn--fsqu00a.com/'\n     \n     - https://xn--fsqu00a.com/\n     + https://\u4f8b\u5b50.COM\n", "test_name": "test_idn_normalization[https://\\u4f8b\\u5b50.COM-https://xn--fsqu00a.com/-Uppercase IDN TLD]", "rerun": "0"}}, "status": {"total_pass": 0, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 8, "total_error": 0}}, "22": {"suite_name": "tests/test_url_parsing.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_resolve_success[//example.com/foo-https://host.com/base/-https://example.com/foo]", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_resolve_success[foo/bar-http://host.com/base/-http://host.com/base/foo/bar]", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_resolve_success[www.foo.com-None-http://www.foo.com]", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_resolve_success[/abs/path-http://host.com/dir/-http://host.com/abs/path]", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_blocked_schemes[ javascript:alert(1)]", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_blocked_schemes[data:text/html;base64...]", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_blocked_schemes[vbscript:foo]", "rerun": "0"}}, "status": {"total_pass": 7, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "23": {"suite_name": "tests/test_url_parsing_windows.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_windows_path_handling[C:\\\\Users\\\\User\\\\Documents\\\\file.html-https://example.com/docs/-None-Absolute Windows path without scheme]", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_windows_path_handling[\\\\\\\\server\\\\share\\\\file.txt-https://example.com/docs/-None-UNC path without scheme]", "rerun": "0"}, "2": {"status": "FAIL", "message": "       AssertionError: URL should be valid: Backslashes in path segment (https://example.com/path\\to\\resource)\n       assert False\n        +  where False = URLInfo(raw='https://example.com/path\\to\\resource', base='https://example.com', normalized='https://example.com/path\\t...ce', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_windows_path_handling[https://example.com/path\\\\to\\\\resource-https://example.com-https://example.com/path/to/resource-Backslashes in path segment]", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_windows_path_handling[file:///C:/Users/User/Documents/file.html-None-None-File scheme with absolute Windows path - now disallowed]", "rerun": "0"}, "4": {"status": "FAIL", "message": "       AssertionError: URL should be valid: Relative path with backslashes (subfolder\\file.html)\n       assert False\n        +  where False = URLInfo(raw='subfolder\\file.html', base='https://example.com/docs/', normalized='subfolder\\file.html', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_windows_path_handling[subfolder\\\\file.html-https://example.com/docs/-https://example.com/docs/subfolder/file.html-Relative path with backslashes]", "rerun": "0"}, "5": {"status": "FAIL", "message": "       AssertionError: URL should be valid: Relative path traversal with backslashes (..\\other\\file.html)\n       assert False\n        +  where False = URLInfo(raw='..\\other\\file.html', base='https://example.com/docs/folder/', normalized='https://example.com/docs/folder/..\\other\\file.html', status='invalid (Path traversal attempt detected)').is_valid\n", "test_name": "test_windows_path_handling[..\\\\other\\\\file.html-https://example.com/docs/folder/-https://example.com/docs/other/file.html-Relative path traversal with backslashes]", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_windows_drive_as_scheme_or_host", "rerun": "0"}}, "status": {"total_pass": 4, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 3, "total_error": 0}}, "24": {"suite_name": "tests/test_url_security_extra.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[https://example.com/../secret-False-Path traversal up one level]", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[https://example.com/docs/../../etc/passwd-False-Path traversal up multiple levels]", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[https://example.com/%2e%2e/secret-False-URL encoded path traversal]", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[https://example.com/..%2fsecret-False-Mixed encoding path traversal]", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[https://example.com/..\\\\secret-False-Backslash path traversal]", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[ftp://example.com/resource-False-Disallowed scheme: FTP]", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[smb://example.com/share-False-Disallowed scheme: SMB]", "rerun": "0"}, "7": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[file:///etc/passwd-False-Disallowed scheme: local file access]", "rerun": "0"}, "8": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[javascript:void(0)-False-Javascript URI scheme]", "rerun": "0"}, "9": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[vbscript:msgbox('XSS')-False-VBScript URI scheme]", "rerun": "0"}, "10": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[http://localhost/admin-False-SSRF attempt to localhost]", "rerun": "0"}, "11": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[http://127.0.0.1/secrets-False-SSRF attempt to loopback IP]", "rerun": "0"}, "12": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[http://169.254.169.254/latest/meta-data/-False-SSRF attempt to AWS metadata service]", "rerun": "0"}, "13": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[http://metadata.google.internal/computeMetadata/v1/-False-SSRF attempt to GCP metadata service]", "rerun": "0"}, "14": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[http://\\u0435xample.com-False-Cyrillic '\\u0435' instead of Latin 'e' - Detected as homograph attack]", "rerun": "0"}, "15": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[https://google.com@evil.com/-False-URL with username/password attempting to mask domain]", "rerun": "0"}, "16": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[https://example.com/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-False-Excessively long URL path]", "rerun": "0"}, "17": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[https://example.com/page\\nnewline-False-Newline character in URL]", "rerun": "0"}, "18": {"status": "PASS", "message": "", "test_name": "test_various_security_risks[https://example.com/page\\t tab-False-Tab character in URL]", "rerun": "0"}}, "status": {"total_pass": 19, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "25": {"suite_name": "tests/url/test_info.py", "tests": {"0": {"status": "FAIL", "message": "   AssertionError: URL 'http://example.com' failed validation unexpectedly: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False is True\n    +  where False = URLInfo(raw='http://example.com', base='None', normalized='http://example.com', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_url_initialization[http://example.com-http://example.com/]", "rerun": "0"}, "1": {"status": "FAIL", "message": "   AssertionError: URL 'https://www.example.co.uk/path?a=1' failed validation unexpectedly: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False is True\n    +  where False = URLInfo(raw='https://www.example.co.uk/path?a=1', base='None', normalized='https://www.example.co.uk/path?a=1', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_url_initialization[https://www.example.co.uk/path?a=1-https://www.example.co.uk/path?a=1]", "rerun": "0"}, "2": {"status": "FAIL", "message": "   AssertionError: URL 'http://EXAMPLE.com:80/./path/../other/' failed validation unexpectedly: Path traversal attempt detected\n   assert False is True\n    +  where False = URLInfo(raw='http://EXAMPLE.com:80/./path/../other/', base='None', normalized='http://EXAMPLE.com:80/./path/../other/', status='invalid (Path traversal attempt detected)').is_valid\n", "test_name": "test_valid_url_initialization[http://EXAMPLE.com:80/./path/../other/-http://example.com/other/]", "rerun": "0"}, "3": {"status": "FAIL", "message": "   AssertionError: URL 'https://xn--mnchen-3ya.de/path' failed validation unexpectedly: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False is True\n    +  where False = URLInfo(raw='https://xn--mnchen-3ya.de/path', base='None', normalized='https://xn--mnchen-3ya.de/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_url_initialization[https://xn--mnchen-3ya.de/path-https://xn--mnchen-3ya.de/path]", "rerun": "0"}, "4": {"status": "FAIL", "message": "   AssertionError: URL 'https://example.com/path/' failed validation unexpectedly: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False is True\n    +  where False = URLInfo(raw='https://example.com/path/', base='None', normalized='https://example.com/path/', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_url_initialization[https://example.com/path/-https://example.com/path/]", "rerun": "0"}, "5": {"status": "FAIL", "message": "   AssertionError: URL 'https://example.com/path' failed validation unexpectedly: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False is True\n    +  where False = URLInfo(raw='https://example.com/path', base='None', normalized='https://example.com/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_url_initialization[https://example.com/path-https://example.com/path]", "rerun": "0"}, "6": {"status": "FAIL", "message": "   AssertionError: URL 'https://example.com/path\\to/resource' failed validation unexpectedly: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False is True\n    +  where False = URLInfo(raw='https://example.com/path\\to/resource', base='None', normalized='https://example.com/path\\to/resource', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_url_initialization[https://example.com/path\\\\to/resource-https://example.com/path/to/resource]", "rerun": "0"}, "7": {"status": "FAIL", "message": "   AssertionError: URL 'https://example.com/docs/folder/..\\other\\file.html' failed validation unexpectedly: Path traversal attempt detected\n   assert False is True\n    +  where False = URLInfo(raw='https://example.com/docs/folder/..\\other\\file.html', base='None', normalized='https://example.com/docs/folder/..\\other\\file.html', status='invalid (Path traversal attempt detected)').is_valid\n", "test_name": "test_valid_url_initialization[https://example.com/docs/folder/..\\\\other\\\\file.html-https://example.com/docs/other/file.html]", "rerun": "0"}, "8": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[javascript:alert(1)-Disallowed scheme]", "rerun": "0"}, "9": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[file:///path/to/file.txt-Disallowed scheme]", "rerun": "0"}, "10": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[ftp://user:pass@example.com-Disallowed scheme]", "rerun": "0"}, "11": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://<invalid>.com-Invalid label chars in: <invalid>]", "rerun": "0"}, "12": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://example..com-Invalid domain label length or empty label]", "rerun": "0"}, "13": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://-example.com-Invalid label chars in: -example]", "rerun": "0"}, "14": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://example-.com-Invalid label chars in: example-]", "rerun": "0"}, "15": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://example.com:99999-Port out of range]", "rerun": "0"}, "16": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://example.com/path%00.txt-Null byte detected in raw URL]", "rerun": "0"}, "17": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://example.com/?q=<script>-Invalid chars in query]", "rerun": "0"}, "18": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://192.168.1.1-Private IP not allowed: 192.168.1.1]", "rerun": "0"}, "19": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://127.0.0.1-Disallowed host: 127.0.0.1]", "rerun": "0"}, "20": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://localhost-Disallowed host: localhost]", "rerun": "0"}, "21": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://[::1]-Private IP not allowed: ::1]", "rerun": "0"}, "22": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://10.0.0.1-Private IP not allowed: 10.0.0.1]", "rerun": "0"}, "23": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://169.254.169.254-Disallowed host: 169.254.169.254]", "rerun": "0"}, "24": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[-URL cannot be None or empty]", "rerun": "0"}, "25": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[None-URL cannot be None or empty]", "rerun": "0"}, "26": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[https://user:pass@example.com-Auth info not allowed]", "rerun": "0"}, "27": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[https://-Missing host]", "rerun": "0"}, "28": {"status": "FAIL", "message": "   AssertionError: Expected error containing 'Missing host' but got 'Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'' for URL 'https:///missinghost'\n   assert 'Missing host' in \"Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\"\n    +  where \"Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\" = URLInfo(raw='https:///missinghost', base='None', normalized='https:///missinghost', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').error_message\n", "test_name": "test_invalid_url_initialization[https:///missinghost-Missing host]", "rerun": "0"}, "29": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://:8080-Missing host]", "rerun": "0"}, "30": {"status": "FAIL", "message": "   AssertionError: Expected error containing 'Invalid IPv6 address' but got 'Error during initial security checks: Invalid IPv6 URL' for URL 'http://[::1'\n   assert 'Invalid IPv6 address' in 'Error during initial security checks: Invalid IPv6 URL'\n    +  where 'Error during initial security checks: Invalid IPv6 URL' = URLInfo(raw='http://[::1', base='None', normalized='http://[::1', status='invalid (Error during initial security checks: Invalid IPv6 URL)').error_message\n", "test_name": "test_invalid_url_initialization[http://[::1-Invalid IPv6 address]", "rerun": "0"}, "31": {"status": "FAIL", "message": "   AssertionError: Expected error containing 'Missing host' but got 'Auth info not allowed' for URL 'http://user@:80'\n   assert 'Missing host' in 'Auth info not allowed'\n    +  where 'Auth info not allowed' = URLInfo(raw='http://user@:80', base='None', normalized='http://user@:80', status='invalid (Auth info not allowed)').error_message\n", "test_name": "test_invalid_url_initialization[http://user@:80-Missing host]", "rerun": "0"}, "32": {"status": "FAIL", "message": "   AssertionError: Expected error containing 'Missing host' but got 'Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'' for URL 'http:///path/without/host'\n   assert 'Missing host' in \"Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\"\n    +  where \"Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\" = URLInfo(raw='http:///path/without/host', base='None', normalized='http:///path/without/host', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').error_message\n", "test_name": "test_invalid_url_initialization[http:///path/without/host-Missing host]", "rerun": "0"}, "33": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://?query-Missing host]", "rerun": "0"}, "34": {"status": "PASS", "message": "", "test_name": "test_invalid_url_initialization[http://#fragment-Missing host]", "rerun": "0"}, "35": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='page2.html', base='http://example.com/docs/page1.html', normalized='page2.html', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_relative_url_resolution[page2.html-http://example.com/docs/page1.html-http://example.com/docs/page2.html]", "rerun": "0"}, "36": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='../index.html', base='http://example.com/docs/page1.html', normalized='../index.html', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_relative_url_resolution[../index.html-http://example.com/docs/page1.html-http://example.com/index.html]", "rerun": "0"}, "37": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='/images/logo.png', base='http://example.com/docs/page1.html', normalized='/images/logo.png', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_relative_url_resolution[/images/logo.png-http://example.com/docs/page1.html-http://example.com/images/logo.png]", "rerun": "0"}, "38": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='//other.com/path', base='https://example.com/docs/', normalized='//other.com/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_relative_url_resolution[//other.com/path-https://example.com/docs/-https://other.com/path]", "rerun": "0"}, "39": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='?query=new', base='http://example.com/page?a=1', normalized='?query=new', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_relative_url_resolution[?query=new-http://example.com/page?a=1-http://example.com/page?query=new]", "rerun": "0"}, "40": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='#fragment', base='http://example.com/page', normalized='#fragment', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_relative_url_resolution[#fragment-http://example.com/page-http://example.com/page]", "rerun": "0"}, "41": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='path/./../sub/./file', base='http://example.com/base/', normalized='path/./../sub/./file', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_relative_url_resolution[path/./../sub/./file-http://example.com/base/-http://example.com/base/sub/file]", "rerun": "0"}, "42": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='path/', base='http://example.com/base', normalized='path/', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_relative_url_resolution[path/-http://example.com/base-http://example.com/path/]", "rerun": "0"}, "43": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='subfolder\\file.html', base='https://example.com/docs/', normalized='subfolder\\file.html', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_relative_url_resolution[subfolder\\\\file.html-https://example.com/docs/-https://example.com/docs/subfolder/file.html]", "rerun": "0"}, "44": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='..\\other\\file.html', base='https://example.com/docs/folder/', normalized='https://example.com/docs/folder/..\\other\\file.html', status='invalid (Path traversal attempt detected)').is_valid\n", "test_name": "test_relative_url_resolution[..\\\\other\\\\file.html-https://example.com/docs/folder/-https://example.com/docs/other/file.html]", "rerun": "0"}, "45": {"status": "FAIL", "message": "   AssertionError: assert False is True\n    +  where False = URLInfo(raw='https://www.example.co.uk:8443/path/to/page?a=1&b=two#section', base='None', normalized='https://www.exam...on', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_properties", "rerun": "0"}, "46": {"status": "PASS", "message": "", "test_name": "test_tldextract_properties[https://www.example.co.uk/path-www-example-co.uk-example.co.uk]", "rerun": "0"}, "47": {"status": "PASS", "message": "", "test_name": "test_tldextract_properties[http://blog.example.com-blog-example-com-example.com]", "rerun": "0"}, "48": {"status": "PASS", "message": "", "test_name": "test_tldextract_properties[https://justadomain.com-None-justadomain-com-justadomain.com]", "rerun": "0"}, "49": {"status": "PASS", "message": "", "test_name": "test_tldextract_properties[http://xn--mnchen-3ya.de-None-xn--mnchen-3ya-de-xn--mnchen-3ya.de]", "rerun": "0"}, "50": {"status": "PASS", "message": "", "test_name": "test_tldextract_properties[http://localhost:8080-None-localhost-None-localhost]", "rerun": "0"}, "51": {"status": "PASS", "message": "", "test_name": "test_tldextract_properties[http://[::1]-None-::1-None-::1]", "rerun": "0"}, "52": {"status": "PASS", "message": "", "test_name": "test_tldextract_properties[http://10.0.0.1-None-10.0.0.1-None-10.0.0.1]", "rerun": "0"}, "53": {"status": "FAIL", "message": "   TypeError: URLInfo.__init__() takes 1 positional argument but 2 were given\n", "test_name": "test_tldextract_fallback", "rerun": "0"}, "54": {"status": "FAIL", "message": "   AssertionError: URL 'https://example.com/path' should be valid, error: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False\n    +  where False = URLInfo(raw='https://example.com/path', base='https://example.com/base', normalized='https://example.com/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_type_determination[https://example.com/path-https://example.com/base-URLType.INTERNAL]", "rerun": "0"}, "55": {"status": "FAIL", "message": "   AssertionError: URL '/relative/path' should be valid, error: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False\n    +  where False = URLInfo(raw='/relative/path', base='https://example.com/base', normalized='/relative/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_type_determination[/relative/path-https://example.com/base-URLType.INTERNAL]", "rerun": "0"}, "56": {"status": "FAIL", "message": "   AssertionError: URL 'https://www.example.com/path' should be valid, error: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False\n    +  where False = URLInfo(raw='https://www.example.com/path', base='https://example.com/base', normalized='https://www.example.com/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_type_determination[https://www.example.com/path-https://example.com/base-URLType.INTERNAL]", "rerun": "0"}, "57": {"status": "FAIL", "message": "   AssertionError: URL 'http://example.com/path' should be valid, error: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False\n    +  where False = URLInfo(raw='http://example.com/path', base='https://example.com/base', normalized='http://example.com/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_type_determination[http://example.com/path-https://example.com/base-URLType.EXTERNAL]", "rerun": "0"}, "58": {"status": "FAIL", "message": "   AssertionError: URL 'https://other.com/path' should be valid, error: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False\n    +  where False = URLInfo(raw='https://other.com/path', base='https://example.com/base', normalized='https://other.com/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_type_determination[https://other.com/path-https://example.com/base-URLType.EXTERNAL]", "rerun": "0"}, "59": {"status": "FAIL", "message": "   AssertionError: URL 'page.html' should be valid, error: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False\n    +  where False = URLInfo(raw='page.html', base='https://example.com/base/', normalized='page.html', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_type_determination[page.html-https://example.com/base/-URLType.INTERNAL]", "rerun": "0"}, "60": {"status": "FAIL", "message": "   AssertionError: URL 'https://example.com:443/path' should be valid, error: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False\n    +  where False = URLInfo(raw='https://example.com:443/path', base='https://example.com/base', normalized='https://example.com:443/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_type_determination[https://example.com:443/path-https://example.com/base-URLType.INTERNAL]", "rerun": "0"}, "61": {"status": "FAIL", "message": "   AssertionError: URL 'https://example.com:8443/path' should be valid, error: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert False\n    +  where False = URLInfo(raw='https://example.com:8443/path', base='https://example.com/base', normalized='https://example.com:8443/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_type_determination[https://example.com:8443/path-https://example.com/base-URLType.INTERNAL]", "rerun": "0"}, "62": {"status": "FAIL", "message": "   AssertionError: assert False\n    +  where False = URLInfo(raw='http://example.com/path/', base='None', normalized='http://example.com/path/', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_equality_and_hash", "rerun": "0"}, "63": {"status": "FAIL", "message": "       Failed: Assertion failed: info.is_valid is False (type: <class 'bool'>) for URL 'https://example.com/'. Error: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n", "test_name": "test_immutability", "rerun": "0"}, "64": {"status": "FAIL", "message": "   AssertionError: assert False\n    +  where False = URLInfo(raw='https://example.com/path?a=1#section', base='None', normalized='https://example.com/path?a=1#section', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_fragment_removal", "rerun": "0"}, "65": {"status": "FAIL", "message": "   AssertionError: assert False\n    +  where False = URLInfo(raw='http://example.com/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa...aa', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_long_url_edge_case", "rerun": "0"}, "66": {"status": "FAIL", "message": "       AssertionError: assert False\n        +  where False = URLInfo(raw='http://example0.com/path/to/page?param=0', base='None', normalized='http://example0.com/path/to/page?param=0', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_url_info_performance", "rerun": "0"}, "67": {"status": "FAIL", "message": "   AssertionError: http://example.com should be valid\n   assert False\n    +  where False = URLInfo(raw='http://example.com', base='None', normalized='http://example.com', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_urlinfo_normalization[http://example.com-http://example.com/]", "rerun": "0"}, "68": {"status": "FAIL", "message": "   AssertionError: https://www.example.co.uk/path?a=1 should be valid\n   assert False\n    +  where False = URLInfo(raw='https://www.example.co.uk/path?a=1', base='None', normalized='https://www.example.co.uk/path?a=1', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_urlinfo_normalization[https://www.example.co.uk/path?a=1-https://www.example.co.uk/path?a=1]", "rerun": "0"}, "69": {"status": "FAIL", "message": "   AssertionError: http://EXAMPLE.com:80/./path/../other/ should be valid\n   assert False\n    +  where False = URLInfo(raw='http://EXAMPLE.com:80/./path/../other/', base='None', normalized='http://EXAMPLE.com:80/./path/../other/', status='invalid (Path traversal attempt detected)').is_valid\n", "test_name": "test_valid_urlinfo_normalization[http://EXAMPLE.com:80/./path/../other/-http://example.com/other/]", "rerun": "0"}, "70": {"status": "FAIL", "message": "   AssertionError: https://xn--mnchen-3ya.de/path should be valid\n   assert False\n    +  where False = URLInfo(raw='https://xn--mnchen-3ya.de/path', base='None', normalized='https://xn--mnchen-3ya.de/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_urlinfo_normalization[https://xn--mnchen-3ya.de/path-https://xn--mnchen-3ya.de/path]", "rerun": "0"}, "71": {"status": "FAIL", "message": "   AssertionError: https://example.com/path/ should be valid\n   assert False\n    +  where False = URLInfo(raw='https://example.com/path/', base='None', normalized='https://example.com/path/', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_urlinfo_normalization[https://example.com/path/-https://example.com/path/]", "rerun": "0"}, "72": {"status": "FAIL", "message": "   AssertionError: https://example.com/path should be valid\n   assert False\n    +  where False = URLInfo(raw='https://example.com/path', base='None', normalized='https://example.com/path', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_urlinfo_normalization[https://example.com/path-https://example.com/path]", "rerun": "0"}, "73": {"status": "FAIL", "message": "   AssertionError: https://example.com/path\\to/resource should be valid\n   assert False\n    +  where False = URLInfo(raw='https://example.com/path\\to/resource', base='None', normalized='https://example.com/path\\to/resource', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_valid_urlinfo_normalization[https://example.com/path\\\\to/resource-https://example.com/path/to/resource]", "rerun": "0"}, "74": {"status": "FAIL", "message": "   AssertionError: https://example.com/docs/folder/..\\other\\file.html should be valid\n   assert False\n    +  where False = URLInfo(raw='https://example.com/docs/folder/..\\other\\file.html', base='None', normalized='https://example.com/docs/folder/..\\other\\file.html', status='invalid (Path traversal attempt detected)').is_valid\n", "test_name": "test_valid_urlinfo_normalization[https://example.com/docs/folder/..\\\\other\\\\file.html-https://example.com/docs/other/file.html]", "rerun": "0"}, "75": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[javascript:alert(1)-Disallowed scheme]", "rerun": "0"}, "76": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[file:///path/to/file.txt-Disallowed scheme]", "rerun": "0"}, "77": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[ftp://user:pass@example.com-Disallowed scheme]", "rerun": "0"}, "78": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://<invalid>.com-Invalid label chars in: <invalid>]", "rerun": "0"}, "79": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://example..com-Invalid domain label length or empty label]", "rerun": "0"}, "80": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://-example.com-Invalid label chars in: -example]", "rerun": "0"}, "81": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://example-.com-Invalid label chars in: example-]", "rerun": "0"}, "82": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://example.com:99999-Port out of range]", "rerun": "0"}, "83": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://example.com/path%00.txt-Null byte detected in raw URL]", "rerun": "0"}, "84": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://example.com/?q=<script>-Invalid chars in query]", "rerun": "0"}, "85": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://192.168.1.1-Private IP not allowed: 192.168.1.1]", "rerun": "0"}, "86": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://127.0.0.1-Disallowed host: 127.0.0.1]", "rerun": "0"}, "87": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://localhost-Disallowed host: localhost]", "rerun": "0"}, "88": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://[::1]-Private IP not allowed: ::1]", "rerun": "0"}, "89": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://10.0.0.1-Private IP not allowed: 10.0.0.1]", "rerun": "0"}, "90": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://169.254.169.254-Disallowed host: 169.254.169.254]", "rerun": "0"}, "91": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[-URL cannot be None or empty]", "rerun": "0"}, "92": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[None-URL cannot be None or empty]", "rerun": "0"}, "93": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[https://user:pass@example.com-Auth info not allowed]", "rerun": "0"}, "94": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[https://-Missing host]", "rerun": "0"}, "95": {"status": "FAIL", "message": "   AssertionError: Expected error 'Missing host' in: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert 'missing host' in \"internal typeerror: determine_url_type() got an unexpected keyword argument 'current_url_info'\"\n    +  where 'missing host' = <built-in method lower of str object at 0x7f216a5678f0>()\n    +    where <built-in method lower of str object at 0x7f216a5678f0> = 'Missing host'.lower\n    +  and   \"internal typeerror: determine_url_type() got an unexpected keyword argument 'current_url_info'\" = <built-in method lower of str object at 0x7f216973f870>()\n    +    where <built-in method lower of str object at 0x7f216973f870> = (\"Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\").lower\n    +      where \"Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\" = URLInfo(raw='https:///missinghost', base='None', normalized='https:///missinghost', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').error_message\n", "test_name": "test_invalid_urlinfo[https:///missinghost-Missing host]", "rerun": "0"}, "96": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://:8080-Missing host]", "rerun": "0"}, "97": {"status": "FAIL", "message": "   AssertionError: Expected error 'Invalid IPv6 address' in: Error during initial security checks: Invalid IPv6 URL\n   assert 'invalid ipv6 address' in 'error during initial security checks: invalid ipv6 url'\n    +  where 'invalid ipv6 address' = <built-in method lower of str object at 0x7f216a567ab0>()\n    +    where <built-in method lower of str object at 0x7f216a567ab0> = 'Invalid IPv6 address'.lower\n    +  and   'error during initial security checks: invalid ipv6 url' = <built-in method lower of str object at 0x7f21697af7b0>()\n    +    where <built-in method lower of str object at 0x7f21697af7b0> = ('Error during initial security checks: Invalid IPv6 URL').lower\n    +      where 'Error during initial security checks: Invalid IPv6 URL' = URLInfo(raw='http://[::1', base='None', normalized='http://[::1', status='invalid (Error during initial security checks: Invalid IPv6 URL)').error_message\n", "test_name": "test_invalid_urlinfo[http://[::1-Invalid IPv6 address]", "rerun": "0"}, "98": {"status": "FAIL", "message": "   AssertionError: Expected error 'Missing host' in: Auth info not allowed\n   assert 'missing host' in 'auth info not allowed'\n    +  where 'missing host' = <built-in method lower of str object at 0x7f216a5678f0>()\n    +    where <built-in method lower of str object at 0x7f216a5678f0> = 'Missing host'.lower\n    +  and   'auth info not allowed' = <built-in method lower of str object at 0x7f216b7114b0>()\n    +    where <built-in method lower of str object at 0x7f216b7114b0> = ('Auth info not allowed').lower\n    +      where 'Auth info not allowed' = URLInfo(raw='http://user@:80', base='None', normalized='http://user@:80', status='invalid (Auth info not allowed)').error_message\n", "test_name": "test_invalid_urlinfo[http://user@:80-Missing host]", "rerun": "0"}, "99": {"status": "FAIL", "message": "   AssertionError: Expected error 'Missing host' in: Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\n   assert 'missing host' in \"internal typeerror: determine_url_type() got an unexpected keyword argument 'current_url_info'\"\n    +  where 'missing host' = <built-in method lower of str object at 0x7f216a5678f0>()\n    +    where <built-in method lower of str object at 0x7f216a5678f0> = 'Missing host'.lower\n    +  and   \"internal typeerror: determine_url_type() got an unexpected keyword argument 'current_url_info'\" = <built-in method lower of str object at 0x7f2169b77120>()\n    +    where <built-in method lower of str object at 0x7f2169b77120> = (\"Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\").lower\n    +      where \"Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info'\" = URLInfo(raw='http:///path/without/host', base='None', normalized='http:///path/without/host', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').error_message\n", "test_name": "test_invalid_urlinfo[http:///path/without/host-Missing host]", "rerun": "0"}, "100": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://?query-Missing host]", "rerun": "0"}, "101": {"status": "PASS", "message": "", "test_name": "test_invalid_urlinfo[http://#fragment-Missing host]", "rerun": "0"}, "102": {"status": "FAIL", "message": "   AssertionError: assert False\n    +  where False = URLInfo(raw='https://www.subdomain.domain.co.uk', base='None', normalized='https://www.subdomain.domain.co.uk', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_urlinfo_domain_parts_and_properties", "rerun": "0"}, "103": {"status": "FAIL", "message": "   AssertionError: assert False\n    +  where False = URLInfo(raw='https://example.com/path?a=1&b=2&a=3', base='None', normalized='https://example.com/path?a=1&b=2&a=3', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_urlinfo_query_params", "rerun": "0"}, "104": {"status": "FAIL", "message": "   AssertionError: assert False\n    +  where False = URLInfo(raw='page.html', base='http://test.com/folder/', normalized='page.html', status='invalid (Internal TypeError: determine_url_type() got an unexpected keyword argument 'current_url_info')').is_valid\n", "test_name": "test_urlinfo_join_relative", "rerun": "0"}, "105": {"status": "FAIL", "message": "   TypeError: cannot pickle 'mappingproxy' object\n", "test_name": "test_urlinfo_pickling", "rerun": "0"}}, "status": {"total_pass": 53, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 53, "total_error": 0}}, "26": {"suite_name": "tests/url/test_normalization.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_normalize_hostname", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_is_default_port", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_normalize_path", "rerun": "0"}, "3": {"status": "FAIL", "message": "   AssertionError: assert 'https://User...e?a=1&a=3&b=2' == 'https://exam...e?a=1&a=3&b=2'\n     \n     - https://example.com/path/resource?a=1&a=3&b=2\n     + https://User:Pass@example.com/path/resource?a=1&a=3&b=2\n     ?         ++++++++++\n", "test_name": "test_normalize_url", "rerun": "0"}}, "status": {"total_pass": 3, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 1, "total_error": 0}}, "27": {"suite_name": "tests/url/test_security.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_security_config_constants", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_security_regex_patterns", "rerun": "0"}}, "status": {"total_pass": 2, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "28": {"suite_name": "tests/url/test_types.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_url_type_enum", "rerun": "0"}}, "status": {"total_pass": 1, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}, "29": {"suite_name": "tests/url/test_validation.py", "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_validate_scheme", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_validate_netloc", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_validate_port", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_validate_path", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_validate_query", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_validate_security_patterns", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_validate_url", "rerun": "0"}}, "status": {"total_pass": 7, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 0, "total_error": 0}}}}, "date": "May 07, 2025", "start_time": 1746636229.3346336, "total_suite": 30, "status": "FAIL", "status_list": {"pass": "247", "fail": "145", "skip": "2", "error": "0", "xpass": "0", "xfail": "0", "rerun": "0"}, "total_tests": "394"}