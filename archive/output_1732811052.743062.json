{"content": {"suites": {"0": {"status": {"total_pass": 64, "total_skip": 0, "total_xpass": 0, "total_xfail": 0, "total_rerun": 0, "total_fail": 47, "total_error": 0}, "tests": {"0": {"status": "PASS", "message": "", "test_name": "test_init_default_config", "rerun": "0"}, "1": {"status": "PASS", "message": "", "test_name": "test_init_custom_config", "rerun": "0"}, "2": {"status": "PASS", "message": "", "test_name": "test_extract_title_with_title_tag", "rerun": "0"}, "3": {"status": "PASS", "message": "", "test_name": "test_extract_title_with_h1_fallback", "rerun": "0"}, "4": {"status": "PASS", "message": "", "test_name": "test_extract_title_no_title", "rerun": "0"}, "5": {"status": "PASS", "message": "", "test_name": "test_extract_text_basic", "rerun": "0"}, "6": {"status": "PASS", "message": "", "test_name": "test_extract_text_with_scripts", "rerun": "0"}, "7": {"status": "PASS", "message": "", "test_name": "test_extract_text_preserve_code", "rerun": "0"}, "8": {"status": "PASS", "message": "", "test_name": "test_extract_headings", "rerun": "0"}, "9": {"status": "PASS", "message": "", "test_name": "test_extract_links", "rerun": "0"}, "10": {"status": "PASS", "message": "", "test_name": "test_extract_code_blocks", "rerun": "0"}, "11": {"status": "PASS", "message": "", "test_name": "test_extract_images", "rerun": "0"}, "12": {"status": "PASS", "message": "", "test_name": "test_extract_stylesheets", "rerun": "0"}, "13": {"status": "PASS", "message": "", "test_name": "test_extract_scripts", "rerun": "0"}, "14": {"status": "PASS", "message": "", "test_name": "test_extract_media", "rerun": "0"}, "15": {"status": "FAIL", "message": "   assert 0 == 2\n    +  where 0 = len([])\n", "test_name": "test_extract_content_structure", "rerun": "0"}, "16": {"status": "PASS", "message": "", "test_name": "test_process_basic", "rerun": "0"}, "17": {"status": "PASS", "message": "", "test_name": "test_process_large_content", "rerun": "0"}, "18": {"status": "PASS", "message": "", "test_name": "test_find_main_content", "rerun": "0"}, "19": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown", "rerun": "0"}, "20": {"status": "PASS", "message": "", "test_name": "test_convert_table_to_markdown", "rerun": "0"}, "21": {"status": "PASS", "message": "", "test_name": "test_safe_content", "rerun": "0"}, "22": {"status": "PASS", "message": "", "test_name": "test_safe_content_preserve_whitespace", "rerun": "0"}, "23": {"status": "PASS", "message": "", "test_name": "test_safe_content_preserve_entities", "rerun": "0"}, "24": {"status": "FAIL", "message": "   KeyError: 'title'\n", "test_name": "test_extract_metadata", "rerun": "0"}, "25": {"status": "FAIL", "message": "   AssertionError: assert '/image.jpg' in ['https://example.com/image.jpg']\n", "test_name": "test_collect_assets", "rerun": "0"}, "26": {"status": "PASS", "message": "", "test_name": "test_extract_text_with_nested_content", "rerun": "0"}, "27": {"status": "FAIL", "message": "   AssertionError: assert 'Comment' not in 'Comment sho...ther comment'\n     \n     'Comment' is contained here:\n       Comment should be removed\n     ? +++++++\n       Visible text\n       Another comment\n", "test_name": "test_extract_text_with_comments", "rerun": "0"}, "28": {"status": "PASS", "message": "", "test_name": "test_extract_text_with_special_characters", "rerun": "0"}, "29": {"status": "PASS", "message": "", "test_name": "test_extract_headings_empty", "rerun": "0"}, "30": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_extract_headings_with_nested_content.<locals>.<genexpr> at 0x10a7c3e00>)\n", "test_name": "test_extract_headings_with_nested_content", "rerun": "0"}, "31": {"status": "PASS", "message": "", "test_name": "test_extract_links_with_invalid_urls", "rerun": "0"}, "32": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_extract_links_with_relative_paths.<locals>.<genexpr> at 0x10b70da80>)\n", "test_name": "test_extract_links_with_relative_paths", "rerun": "0"}, "33": {"status": "FAIL", "message": "   assert 4 == 3\n    +  where 4 = len([{'content': 'def test():\\n    pass', 'language': 'language-python'}, {'content': \"console.log('test');\", 'language': 'javascript'}, {'content': \"puts 'test'\", 'language': ''}, {'content': \"puts 'test'\", 'language': 'ruby'}])\n", "test_name": "test_extract_code_blocks_with_attributes", "rerun": "0"}, "34": {"status": "FAIL", "message": "   AssertionError: assert 3 == 2\n    +  where 3 = len(['data:image/png;base64,abc123', '/image.jpg', ''])\n", "test_name": "test_extract_images_with_data_urls", "rerun": "0"}, "35": {"status": "PASS", "message": "", "test_name": "test_extract_stylesheets_with_media_queries", "rerun": "0"}, "36": {"status": "PASS", "message": "", "test_name": "test_extract_scripts_with_attributes", "rerun": "0"}, "37": {"status": "PASS", "message": "", "test_name": "test_extract_media_with_sources", "rerun": "0"}, "38": {"status": "FAIL", "message": "   AssertionError: assert 'og:title' in '{}'\n    +  where '{}' = str({})\n    +    where {} = ProcessedContent(url='https://example.com', title='Complex Test', content={'title': 'Complex Test', 'formatted_content': 'Complex Test \\n# Test Content Test paragraph.', 'headings': [{'level': 1, 'text': 'Test Content', 'id': ''}], 'links': [], 'code_blocks': [], 'structure': []}, metadata={}, assets={}, errors=[]).metadata\n", "test_name": "test_process_with_complex_metadata", "rerun": "0"}, "39": {"status": "PASS", "message": "", "test_name": "test_safe_content_with_malicious_content", "rerun": "0"}, "40": {"status": "FAIL", "message": "   AssertionError: assert 'keywords' in {'author': '', 'description': 'Test Content This is a test paragraph.'}\n", "test_name": "test_extract_metadata_with_missing_values", "rerun": "0"}, "41": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_collect_assets_with_base_tag.<locals>.<genexpr> at 0x10b4828e0>)\n", "test_name": "test_collect_assets_with_base_tag", "rerun": "0"}, "42": {"status": "PASS", "message": "", "test_name": "test_process_with_invalid_html", "rerun": "0"}, "43": {"status": "PASS", "message": "", "test_name": "test_process_with_unicode_content", "rerun": "0"}, "44": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_process_with_mixed_content_types.<locals>.<genexpr> at 0x10aef2810>)\n", "test_name": "test_process_with_mixed_content_types", "rerun": "0"}, "45": {"status": "PASS", "message": "", "test_name": "test_process_with_microdata", "rerun": "0"}, "46": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_process_with_frames.<locals>.<genexpr> at 0x10b5e8ba0>)\n", "test_name": "test_process_with_frames", "rerun": "0"}, "47": {"status": "PASS", "message": "", "test_name": "test_process_with_custom_elements", "rerun": "0"}, "48": {"status": "FAIL", "message": "   AssertionError: assert 'IE specific content' not in 'Conditional...ular content'\n     \n     'IE specific content' is contained here:\n       Conditional Comments [if IE]>\n                   <p>IE specific content</p>\n                   <![endif] [if !IE]><! Non-IE content <![endif] Regular comment Regular content\n", "test_name": "test_process_with_conditional_comments", "rerun": "0"}, "49": {"status": "PASS", "message": "", "test_name": "test_process_with_data_attributes", "rerun": "0"}, "50": {"status": "FAIL", "message": "   AssertionError: assert 'https://example.com/new' in '{}'\n    +  where '{}' = str({})\n    +    where {} = ProcessedContent(url='https://example.com', title='Meta Redirect', content={'title': 'Meta Redirect', 'formatted_content': 'Meta Redirect Redirecting...', 'headings': [], 'links': [], 'code_blocks': [], 'structure': []}, metadata={}, assets={}, errors=[]).metadata\n", "test_name": "test_process_with_meta_redirects", "rerun": "0"}, "51": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_process_with_base_urls.<locals>.<genexpr> at 0x10b5ea260>)\n", "test_name": "test_process_with_base_urls", "rerun": "0"}, "52": {"status": "PASS", "message": "", "test_name": "test_safe_content_with_scripts", "rerun": "0"}, "53": {"status": "FAIL", "message": "   assert 'Special & ch...est> \"quoted\"' == 'Special & ch...ters \"quoted\"'\n     \n     - Special & characters \"quoted\"\n     + Special & characters <test> \"quoted\"\n     ?                      +++++++\n", "test_name": "test_safe_content_with_entities", "rerun": "0"}, "54": {"status": "FAIL", "message": "   KeyError: 'title'\n", "test_name": "test_extract_metadata_complete", "rerun": "0"}, "55": {"status": "FAIL", "message": "   AssertionError: assert 'keywords' in {'description': 'Main Heading First paragraph of content Second paragraph with more details'}\n", "test_name": "test_extract_metadata_auto_generation", "rerun": "0"}, "56": {"status": "PASS", "message": "", "test_name": "test_collect_assets_all_types", "rerun": "0"}, "57": {"status": "PASS", "message": "", "test_name": "test_extract_content_structure_complex", "rerun": "0"}, "58": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_mixed_content", "rerun": "0"}, "59": {"status": "FAIL", "message": "   AssertionError: assert 'Text with bold and italic' in '## Section Text withboldanditalic \\n### Subsection Nested paragraph'\n", "test_name": "test_format_as_markdown_nested_content", "rerun": "0"}, "60": {"status": "PASS", "message": "", "test_name": "test_find_main_content_with_article", "rerun": "0"}, "61": {"status": "PASS", "message": "", "test_name": "test_find_main_content_with_sphinx", "rerun": "0"}, "62": {"status": "PASS", "message": "", "test_name": "test_process_content_too_large", "rerun": "0"}, "63": {"status": "FAIL", "message": "   AssertionError: assert (ProcessedContent(url='https://example.com', title='Untitled Document', content={'title': 'Untitled Document', 'formatted_content': 'Small', 'headings': [], 'links': [], 'code_blocks': [], 'structure': [{'type': 'text', 'content': 'Small'}]}, metadata={}, assets={}, errors=[]) is None or 0 > 0)\n    +  where 0 = len([])\n    +    where [] = ProcessedContent(url='https://example.com', title='Untitled Document', content={'title': 'Untitled Document', 'formatted_content': 'Small', 'headings': [], 'links': [], 'code_blocks': [], 'structure': [{'type': 'text', 'content': 'Small'}]}, metadata={}, assets={}, errors=[]).errors\n", "test_name": "test_process_content_too_small", "rerun": "0"}, "64": {"status": "PASS", "message": "", "test_name": "test_process_invalid_html", "rerun": "0"}, "65": {"status": "FAIL", "message": "   AssertionError: assert (ProcessedContent(url='https://example.com', title='Untitled Document', content={'title': 'Untitled Document', 'formatted_content': '', 'headings': [], 'links': [], 'code_blocks': [], 'structure': []}, metadata={}, assets={}, errors=[]) is None or 0 > 0)\n    +  where 0 = len([])\n    +    where [] = ProcessedContent(url='https://example.com', title='Untitled Document', content={'title': 'Untitled Document', 'formatted_content': '', 'headings': [], 'links': [], 'code_blocks': [], 'structure': []}, metadata={}, assets={}, errors=[]).errors\n", "test_name": "test_process_empty_content", "rerun": "0"}, "66": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_process_with_base_tag.<locals>.<genexpr> at 0x10b5ea740>)\n", "test_name": "test_process_with_base_tag", "rerun": "0"}, "67": {"status": "FAIL", "message": "   AssertionError: assert 'Nested content' in 'First paragraph\\nPreserved whitespace\\n                            and formatting\\ndef test():\\n    pass\\nNested\\ncontent'\n", "test_name": "test_extract_text_with_complex_content", "rerun": "0"}, "68": {"status": "PASS", "message": "", "test_name": "test_extract_text_with_sphinx_content", "rerun": "0"}, "69": {"status": "PASS", "message": "", "test_name": "test_extract_text_with_empty_elements", "rerun": "0"}, "70": {"status": "PASS", "message": "", "test_name": "test_extract_headings_with_ids", "rerun": "0"}, "71": {"status": "PASS", "message": "", "test_name": "test_extract_links_with_complex_navigation", "rerun": "0"}, "72": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_extract_links_with_base_url.<locals>.<genexpr> at 0x10b70e420>)\n", "test_name": "test_extract_links_with_base_url", "rerun": "0"}, "73": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_extract_code_blocks_with_languages.<locals>.<genexpr> at 0x10b70e500>)\n", "test_name": "test_extract_code_blocks_with_languages", "rerun": "0"}, "74": {"status": "FAIL", "message": "   assert False\n    +  where False = any(<generator object test_extract_code_blocks_with_nested_content.<locals>.<genexpr> at 0x10b5ca960>)\n", "test_name": "test_extract_code_blocks_with_nested_content", "rerun": "0"}, "75": {"status": "FAIL", "message": "   AssertionError: assert 'Level 4' not in '# Title \\n#...st() {}\\n```'\n     \n     'Level 4' is contained here:\n       # Title \n       #### Level 4 Paragraphbolditalic \n     ?      +++++++\n       ```python\n       def test(): pass...\n     \n     ...Full output truncated (4 lines hidden), use '-vv' to show\n", "test_name": "test_process_with_custom_config", "rerun": "0"}, "76": {"status": "FAIL", "message": "   AssertionError: assert '   1. Sub first' in '- Top levelNested item 1Nested item 2Deep nested item\\n\\n  - Nested item 1   - Nested item 2Deep nested item\\n\\n    - Deep nested item\\n\\n1. FirstSub firstSub second\\n\\n  1. Sub first   2. Sub second 2. Second\\n\\n- Mixed content:Numbered in unordered\\n\\n  1. Numbered in unordered'\n", "test_name": "test_format_as_markdown_with_lists", "rerun": "0"}, "77": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_tables", "rerun": "0"}, "78": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_definition_lists", "rerun": "0"}, "79": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_code_and_pre", "rerun": "0"}, "80": {"status": "FAIL", "message": "   AssertionError: assert 'Copyright 2024' in 'Copyright \u00a9 2024 A & B <tag> Price: \u00a3100 Temperature: 20\u00b0C'\n", "test_name": "test_format_as_markdown_with_html_entities", "rerun": "0"}, "81": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_special_blocks", "rerun": "0"}, "82": {"status": "FAIL", "message": "   AssertionError: assert 'alpha + beta = gamma' in 'Inline math:E = mc^2 \\\\[ f(x) = \\\\int_{-\\\\infty}^{\\\\infty} \\\\hat f(\\\\xi)\\\\,e^{2 \\\\pi i \\\\xi x} \\\\,d\\\\xi \\\\] More inline math:\\\\alpha + \\\\beta = \\\\gamma'\n", "test_name": "test_format_as_markdown_with_math", "rerun": "0"}, "83": {"status": "FAIL", "message": "   AssertionError: assert ('Text with a footnote[^1]' in 'Text with a footnote1. Another footnote2. 1. First footnote content 2. Second footnote content' or 'Text with a footnote^1^' in 'Text with a footnote1. Another footnote2. 1. First footnote content 2. Second footnote content')\n", "test_name": "test_format_as_markdown_with_footnotes", "rerun": "0"}, "84": {"status": "FAIL", "message": "   AssertionError: assert 'World Health Organization' in 'WHO ASAP HTML'\n", "test_name": "test_format_as_markdown_with_abbreviations", "rerun": "0"}, "85": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_empty_elements", "rerun": "0"}, "86": {"status": "FAIL", "message": "   AssertionError: assert 'Invalid p in ul' in 'StartInvalid div inside pEnd\\n\\n- Valid item'\n", "test_name": "test_format_as_markdown_with_invalid_nesting", "rerun": "0"}, "87": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_malformed_attributes", "rerun": "0"}, "88": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_mixed_encodings", "rerun": "0"}, "89": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_deeply_nested_structure", "rerun": "0"}, "90": {"status": "FAIL", "message": "   AssertionError: assert '    Also    Here' in '```\\n    Preserved\\n    Spaces    Here\\n        And    Here\\n``` `Also    Here` Normal     Text Preserved\\n                Indentation'\n", "test_name": "test_format_as_markdown_with_whitespace_preservation", "rerun": "0"}, "91": {"status": "FAIL", "message": "   AssertionError: assert 'Comment' not in 'Comment bef...omment after'\n     \n     'Comment' is contained here:\n       Comment before Visible content Comment\n     ? +++++++\n               spanning multiple\n               lines More content Comment after\n", "test_name": "test_format_as_markdown_with_comments", "rerun": "0"}, "92": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_script_and_style", "rerun": "0"}, "93": {"status": "FAIL", "message": "   AssertionError: assert 'alert' not in '![](x) [Cli...) Click here'\n     \n     'alert' is contained here:\n       ![](x) [Click me](javascript:alert('xss')) Click here\n     ?                              +++++\n", "test_name": "test_format_as_markdown_with_xss_attempts", "rerun": "0"}, "94": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_large_content", "rerun": "0"}, "95": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_recursive_structures", "rerun": "0"}, "96": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_malformed_urls", "rerun": "0"}, "97": {"status": "FAIL", "message": "   AssertionError: assert '\\x00' not in 'Text with\\x... Normal text'\n     \n     '\\x00' is contained here:\n       Text with\u0000null Text with\u0007bell Text with\bbackspace Text with\n     ?          +\n       tab Normal text\n", "test_name": "test_format_as_markdown_with_control_characters", "rerun": "0"}, "98": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_nested_links", "rerun": "0"}, "99": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_custom_tags", "rerun": "0"}, "100": {"status": "PASS", "message": "", "test_name": "test_format_as_markdown_with_base_url", "rerun": "0"}, "101": {"status": "FAIL", "message": "   AssertionError: assert None == 'Page description'\n    +  where None = <built-in method get of dict object at 0x10c0abbc0>('description')\n    +    where <built-in method get of dict object at 0x10c0abbc0> = {'meta_tags': {'author': 'Author Name', 'custom-tag': 'Custom value', 'custom:property': 'Property value', 'dc.creator': 'DC Creator', ...}, 'opengraph': {'description': 'OG description', 'image': 'https://example.com/image.jpg', 'title': 'OG Title', 'url': 'https://example.com/page'}, 'title': 'Page Title', 'twitter': {'card': 'summary', 'description': 'Twitter description', 'image': 'https://example.com/twitter.jpg', 'title': 'Twitter Title'}}.get\n", "test_name": "test_extract_metadata_with_all_types", "rerun": "0"}, "102": {"status": "FAIL", "message": "   AssertionError: assert None == 'First description'\n    +  where None = <built-in method get of dict object at 0x10bff3d00>('description')\n    +    where <built-in method get of dict object at 0x10bff3d00> = {'meta_tags': {'description': 'Second description'}, 'opengraph': {'title': 'Second OG title'}, 'title': 'First Title', 'twitter': {}}.get\n", "test_name": "test_extract_metadata_with_duplicates", "rerun": "0"}, "103": {"status": "PASS", "message": "", "test_name": "test_extract_metadata_with_empty_values", "rerun": "0"}, "104": {"status": "FAIL", "message": "   AssertionError: assert '\u00f1' in ''\n    +  where '' = <built-in method get of dict object at 0x10bf129c0>('og:title', '')\n    +    where <built-in method get of dict object at 0x10bf129c0> = {'meta_tags': {'description': 'Description with  and '}, 'opengraph': {'title': 'Title with \u00f1, \u00e9, \u00fc'}, 'title': 'Title with & and <tags>', 'twitter': {}}.get\n", "test_name": "test_extract_metadata_with_special_characters", "rerun": "0"}, "105": {"status": "FAIL", "message": "   AssertionError: assert None == 'Product Name'\n    +  where None = <built-in method get of dict object at 0x10be4c440>('schema:name')\n    +    where <built-in method get of dict object at 0x10be4c440> = {'meta_tags': {'description': 'Product description', 'name': 'Product Name'}, 'opengraph': {}, 'title': '', 'twitter': {}}.get\n", "test_name": "test_extract_metadata_with_schema_org", "rerun": "0"}, "106": {"status": "FAIL", "message": "   AssertionError: assert 'Outside head' == 'Inside head'\n     \n     - Inside head\n     ? ^^\n     + Outside head\n     ? ^^^\n", "test_name": "test_extract_metadata_with_invalid_html", "rerun": "0"}, "107": {"status": "FAIL", "message": "   AttributeError: 'ContentProcessor' object has no attribute 'configure'\n", "test_name": "test_processor_with_custom_config", "rerun": "0"}, "108": {"status": "FAIL", "message": "   AttributeError: 'ContentProcessor' object has no attribute 'configure'\n", "test_name": "test_processor_with_size_limits", "rerun": "0"}, "109": {"status": "FAIL", "message": "   AttributeError: 'ContentProcessor' object has no attribute 'add_content_extractor'\n", "test_name": "test_processor_with_custom_extractors", "rerun": "0"}, "110": {"status": "FAIL", "message": "   AttributeError: 'ContentProcessor' object has no attribute 'add_content_filter'\n", "test_name": "test_processor_with_custom_filters", "rerun": "0"}}, "suite_name": "tests/test_content_processor.py"}}}, "date": "November 28, 2024", "start_time": 1732810192.91424, "total_suite": 1, "status": "FAIL", "status_list": {"pass": "64", "fail": "47", "skip": "0", "error": "0", "xpass": "0", "xfail": "0", "rerun": "0"}, "total_tests": "111"}